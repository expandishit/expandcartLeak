{% extends "base.expand" %}
{% from "controls/breadcrumb.expand" import breadcrumb as breadcrumb %}
{% import "controls/forms.expand" as forms %}
{% set dualMenuEnabled = true %}

{% block title %}
    {{ lang('heading_title', 'module/mega_filter/settings') }}
{% endblock title %}

{% block breadcrumb %}
    {{ breadcrumb(breadcrumbs) }}
{% endblock breadcrumb %}

{% block secondarymenu %}
    {% include 'module/mega_filter_menu.expand' with {'expand': '#mega_filter', 'active': '#settings'} %}
{% endblock secondarymenu %}

{% block headelements %}
	<a href="{{ action_rebuild_index }}" class="btn btn-info"><i class="icon-sync"></i> {{ text_rebuild_index }}</a>
    {% include "includes/buttons_top.expand" %}
{% endblock headelements %}

{% block content %}
<form action="{{ action_save_data }}" class="form" method="post" enctype="multipart/form-data">
<div class="panel panel-white" style="display:none">
  <div class="panel-heading">
      <h6 class="panel-title"><span class="text-bold">{{ tab_base_attributes }}</span></h6>
      <div class="heading-elements not-collapsible">
          <ul class="icons-list">
              <li><a data-action="collapse" class=""></a></li>
          </ul>
      </div>
  </div>
  <div class="panel-body" style="padding: 0">
	<div class="tab-pane active" id="tab-base-attributes">
		<table class="table table-hover">
			<thead>
				<tr>
					<th class="left">{{ text_attribute_name }}</th>
					<th class="center" width="80">{{ text_enabled}}</th>
					<th class="center" width="80">{{ text_sort_order }}</th>
					<th class="center" width="180">{{ text_display_as_type }}</th>
					<th class="center" width="145">{{ text_display_list_of_items }}</th>
					<th class="left">{{ text_settings }}</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>{{ lang('attrib_search') }}</td>
					<td class="center">
						<div class="checkbox checkbox-switchery no-margin">
          				<label>
							<input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[attribs][search][enabled]" class="switchery" {{ settings['attribs']['search']['enabled'] == 1 ? 'checked' }}>
                            <span class="switchery-status">
                              {% if settings['attribs']['search']['enabled'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}
                            </span>
                        </label>
						</div>			
					</td>
					<td class="center">
						<input class="form-control" type="text" name="mega_filter_settings[attribs][search][sort_order]" value="{{ settings['attribs']['search']['sort_order'] }}" size="3">
					</td>
					<td class="center">
						-
					</td>
					<td class="center">
						-
					</td>
					<td class="left">

						<div class="form-group">
		                    <input class="styled" id="0_attribs_search_collapsed_a" type="radio" name="mega_filter_settings[attribs][search][collapsed]" value="" {{ settings['attribs']['search']['collapsed'] == '' ? 'checked="checked"' }}>
							<label for="0_attribs_search_collapsed_a">{{ lang ('text_show_header') }}</label>
							<br/>
							<input class="styled" id="0_attribs_search_collapsed_b" type="radio" name="mega_filter_settings[attribs][search][collapsed]" value="1" {{ settings['attribs']['search']['collapsed'] == '1' ? 'checked="checked"' }}>
							<label for="0_attribs_search_collapsed_b">{{ lang ('text_collapsed_by_default_and_show_header') }}</label>
							<br/>
							<input class="styled" id="0_attribs_search_collapsed_c" type="radio" name="mega_filter_settings[attribs][search][collapsed]" value="hide_header" {{ settings['attribs']['search']['collapsed'] == 'hide_header' ? 'checked="checked"' }}>
							<label for="0_attribs_search_collapsed_c">{{ lang ('text_hide_header') }}</label>
		                 </div>

						<div class="form-group" id="name-0-group">
                           <label class="control-label">{{ lang ('text_with_delay_help') }}</label>
                           <input type="text" name="mega_filter_settings[attribs][search][refresh_delay]" value="{{ settings['attribs']['search']['refresh_delay'] }}" class="form-control" id="name-0">
                           <span class="help-block"></span>
                           <span class="text-muted">{{text_milliseconds}} ( -1 Disabled )</span>
                       </div>
						
						<div class="form-group">
                          <label class="control-label">{{ lang ('text_show_button_search') }}</label>
                          <div class="checkbox checkbox-switchery no-margin">
                            <label>
								<input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[attribs][search][button]" class="switchery" {{ settings['attribs']['search']['button'] == 1 ? 'checked' }}>
                                <span class="switchery-status">
                                  {% if settings['attribs']['search']['button'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}
                                </span>
                            </label>
                          </div>
                           <span class="help-block"></span>
                           <span class="text-muted"></span>
                        </div>
					</td>
				</tr>
				<tr>
					<td>
						{{ lang('attrib_price') }}
					</td>
					<td class="center">
						<div class="checkbox checkbox-switchery no-margin">
          				<label>
							<input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[attribs][price][enabled]" class="switchery" {{ settings['attribs']['price']['enabled'] == 1 ? 'checked' }}>
                            <span class="switchery-status">
                              {% if settings['attribs']['price']['enabled'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}
                            </span>
                        </label>
						</div>				
					</td>
					<td class="center">
						<input class="form-control" type="text" name="mega_filter_settings[attribs][price][sort_order]" value="{{ settings['attribs']['price']['sort_order'] }}" size="3">
					</td>
					<td class="center">
						-
					</td>
					<td class="center">
						-
					</td>
					<td class="left">

						<div class="form-group">
		                    <label class="control-label">
		                    {{ lang('text_collapsed_by_default') }}:
		                    </label>
		                    <br/>
		                    <input  class="styled" type="radio" name="mega_filter_settings[attribs][price][collapsed]" value="1" {{ settings['attribs']['price']['collapsed'] == 1 ? 'checked="checked"' }}> {{ lang('text_yes') }}
							<input  class="styled" type="radio" name="mega_filter_settings[attribs][price][collapsed]" value="0" {{ settings['attribs']['price']['collapsed'] == 0 ? 'checked="checked"' }}> {{ lang('text_no') }}
							<input  class="styled" type="radio" name="mega_filter_settings[attribs][price][collapsed]" value="pc" {{ settings['attribs']['price']['collapsed'] == 'pc' ? 'checked="checked"' }}> {{ lang('text_pc') }}
							<input  class="styled" type="radio" name="mega_filter_settings[attribs][price][collapsed]" value="mobile" {{ settings['attribs']['price']['collapsed'] == 'mobile' ? 'checked="checked"' }}> {{ lang('text_mobile') }}
		                    <span class="help-block"></span>
		                    <span class="text-muted"></span>
		                 </div>
					</td>
				</tr>
				<tr>
					<td>
						{{ lang('attrib_manufacturers') }}
					</td>
					<td class="center">
						<div class="checkbox checkbox-switchery no-margin">
          				<label>
							<input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[attribs][manufacturers][enabled]" class="switchery" {{ settings['attribs']['manufacturers']['enabled'] == 1 ? 'checked' }}>
                            <span class="switchery-status">
                              {% if settings['attribs']['manufacturers']['enabled'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}
                            </span>
                        </label>
						</div>				
					</td>
					<td class="center">
						<input class="form-control" type="text" name="mega_filter_settings[attribs][manufacturers][sort_order]" value="{{ settings['attribs']['manufacturers']['sort_order'] }}" size="3">
					</td>
					<td class="center">
						<select class="form-control selectBasic" name="mega_filter_settings[attribs][manufacturers][display_list_of_items]">
							<option value="" selected="selected">{{ lang('text_by_default') }}</option>
							<option value="scroll" {{ settings['attribs']['manufacturers']['display_list_of_items'] == 'scroll' ? 'selected="selected"' }}>{{ lang('text_with_scroll') }}</option>
							<option value="button_more" {{ settings['attribs']['manufacturers']['display_list_of_items'] == 'button_more' ? 'selected="selected"' }}>{{ lang('text_with_button_more') }}</option>
						</select>
					</td>
					<td class="center">
						<select class="form-control selectBasic" name="mega_filter_settings[attribs][manufacturers][display_as_type]">
							<option value="checkbox" {{ settings['attribs']['manufacturers']['display_as_type'] == 'checkbox' ? 'selected="selected"' }}> {{ lang('text_type_checkbox') }} </option>
							<option value="radio" {{ settings['attribs']['manufacturers']['display_as_type'] == 'radio' ? 'selected="selected"' }}>{{ lang('text_type_radio') }}</option>
							<option value="select" {{ settings['attribs']['manufacturers']['display_as_type'] == 'select' ? 'selected="selected"' }}>{{ lang('text_type_select') }}</option>
							<option value="image_list_checkbox" {{ settings['attribs']['manufacturers']['display_as_type'] == 'image_list_checkbox' ? 'selected="selected"' }}>{{ lang('text_type_image_list_checkbox') }}</option>
							<option value="image_list_radio" {{ settings['attribs']['manufacturers']['display_as_type'] == 'image_list_radio' ? 'selected="selected"' }}>{{ lang('text_type_image_list_radio') }}</option>
							<option value="image" {{ settings['attribs']['manufacturers']['display_as_type'] == 'image' ? 'selected="selected"' }}>{{ lang('text_type_image') }}</option>
						</select>
					</td>
					<td class="left">

						<div class="form-group">
		                    <label class="control-label">
		                    {{ lang('text_collapsed_by_default') }}:
		                    </label>
		                    <br/>
		                    <input  class="styled" type="radio" name="mega_filter_settings[attribs][manufacturers][collapsed]" value="1" {{ settings['attribs']['manufacturers']['collapsed'] == 1 ? 'checked="checked"' }}>{{ lang('text_yes') }}
							<input  class="styled" type="radio" name="mega_filter_settings[attribs][manufacturers][collapsed]" value="0" {{ settings['attribs']['manufacturers']['collapsed'] == 0 ? 'checked="checked"' }}>{{ lang('text_no') }}
							<input  class="styled" type="radio" name="mega_filter_settings[attribs][manufacturers][collapsed]" value="pc" {{ settings['attribs']['manufacturers']['collapsed'] == 'pc' ? 'checked="checked"' }}>{{ lang('text_pc') }}
							<input  class="styled" type="radio" name="mega_filter_settings[attribs][manufacturers][collapsed]" value="mobile" {{ settings['attribs']['manufacturers']['collapsed'] == 'mobile' ? 'checked="checked"' }}>{{ lang('text_mobile') }}
		                    <span class="help-block"></span>
		                    <span class="text-muted"></span>
		                 </div>

						<select name="mega_filter_settings[attribs][manufacturers][display_live_filter]" class="form-control selectBasic">
							<option value="" selected="selected">{{ lang('text_Display_live_filter') }} {{ lang(text_by_default) }}</option>
							<option value="1" {{ settings['attribs']['manufacturers']['display_live_filter'] == 1 ? 'selected="selected"' }}>{{ lang('text_Display_live_filter') }} - {{ lang('text_yes') }}</option>
							<option value="-1" {{ settings['attribs']['manufacturers']['display_live_filter'] == '-1' ? 'selected="selected"' }}>{{ lang('text_Display_live_filter') }} - {{ lang('text_no') }}</option>
						</select>
					</td>
				</tr>
				<tr>
					<td>
						{{ lang('attrib_stock_status') }}			</td>
					<td class="center">
						<div class="checkbox checkbox-switchery no-margin">
          				<label>
							<input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[attribs][stock_status][enabled]" class="switchery" {{ settings['attribs']['stock_status']['enabled'] == 1 ? 'checked' }}>
                            <span class="switchery-status">
                              {% if settings['attribs']['stock_status']['enabled'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}
                            </span>
                        </label>
						</div>			
					</td>
					<td class="center">
						<input class="form-control" type="text" name="mega_filter_settings[attribs][stock_status][sort_order]" value="{{ settings['attribs']['stock_status']['sort_order'] }}" size="3">
					</td>
					<td class="center">
						<select class="form-control selectBasic" name="mega_filter_settings[attribs][stock_status][display_list_of_items]">
							<option value="" selected="selected">{{ lang(text_by_default) }}</option>
							<option value="scroll" {{ settings['attribs']['stock_status']['display_list_of_items'] == 'scroll' ? 'selected="selected"' }}>{{ lang('text_with_scroll') }}</option>
							<option value="button_more" {{ settings['attribs']['stock_status']['display_list_of_items'] == 'button_more' ? 'selected="selected"' }}>{{ lang('text_with_button_more') }}</option>
						</select>
					</td>
					<td class="center">
						<select class="form-control selectBasic" name="mega_filter_settings[attribs][stock_status][display_as_type]">
							<option value="checkbox" {{ settings['attribs']['stock_status']['display_as_type'] == 'checkbox' ? 'selected="selected"' }}>{{ lang('text_type_checkbox') }}</option>
							<option value="radio" {{ settings['attribs']['stock_status']['display_as_type'] == 'radio' ? 'selected="selected"' }}>{{ lang('text_type_radio') }}</option>
							<option value="select" {{ settings['attribs']['stock_status']['display_as_type'] == 'select' ? 'selected="selected"' }}>{{ lang('text_type_select') }}</option>
						</select>
					</td>
					<td class="left">

						<div class="form-group">
		                    <label class="control-label">
		                    {{ lang('text_collapsed_by_default') }}:
		                    </label>
		                    <br/>
		                    <input  class="styled" type="radio" name="mega_filter_settings[attribs][stock_status][collapsed]" value="1" {{ settings['attribs']['stock_status']['collapsed'] == 1 ? 'checked="checked"' }}>{{ lang('text_yes') }}
							<input  class="styled" type="radio" name="mega_filter_settings[attribs][stock_status][collapsed]" value="0" {{ settings['attribs']['stock_status']['collapsed'] == 0 ? 'checked="checked"' }}>{{ lang('text_no') }}
							<input  class="styled" type="radio" name="mega_filter_settings[attribs][stock_status][collapsed]" value="pc" {{ settings['attribs']['stock_status']['collapsed'] == 'pc' ? 'checked="checked"' }}>{{ lang('text_pc') }}
							<input  class="styled" type="radio" name="mega_filter_settings[attribs][stock_status][collapsed]" value="mobile" {{ settings['attribs']['stock_status']['collapsed'] == 'mobile' ? 'checked="checked"' }}>{{ lang('text_mobile') }}
		                    <span class="help-block"></span>
		                    <span class="text-muted"></span>
		                 </div>
					</td>
				</tr>
				<tr>
					<td>
						{{ lang('attrib_rating') }}			</td>
					<td class="center">
						<div class="checkbox checkbox-switchery no-margin">
          				<label>
							<input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[attribs][rating][enabled]" class="switchery" {{ settings['attribs']['rating']['enabled'] == 1 ? 'checked' }}>
                            <span class="switchery-status">
                              {% if settings['attribs']['rating']['enabled'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}
                            </span>
                        </label>
						</div>			
					</td>
					<td class="center">
						<input class="form-control" type="text" name="mega_filter_settings[attribs][rating][sort_order]" value="{{ settings['attribs']['rating']['sort_order'] }}" size="3">
					</td>
					<td class="center">
						-
					</td>
					<td class="center">
						-
					</td>
					<td class="left">

						<div class="form-group">
		                    <label class="control-label">
		                    {{ lang('text_collapsed_by_default') }}:
		                    </label>
		                    <br/>
		                    <input  class="styled" type="radio" name="mega_filter_settings[attribs][rating][collapsed]" value="1" {{ settings['attribs']['rating']['collapsed'] == 1 ? 'checked="checked"' }}>{{ lang('text_yes') }}
							<input  class="styled" type="radio" name="mega_filter_settings[attribs][rating][collapsed]" value="0" {{ settings['attribs']['rating']['collapsed'] == 0 ? 'checked="checked"' }}>{{ lang('text_no') }}
							<input  class="styled" type="radio" name="mega_filter_settings[attribs][rating][collapsed]" value="pc" {{ settings['attribs']['rating']['collapsed'] == 'pc' ? 'checked="checked"' }}>{{ lang('text_pc') }}
							<input  class="styled" type="radio" name="mega_filter_settings[attribs][rating][collapsed]" value="mobile" {{ settings['attribs']['rating']['collapsed'] == 'mobile' ? 'checked="checked"' }}>{{ lang('text_mobile') }}
		                    <span class="help-block"></span>
		                    <span class="text-muted"></span>
		                 </div>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	</div>
</div>


<div class="panel panel-white ">
      <div class="panel-heading">
          <h6 class="panel-title"><span class="text-bold">{{ tab_refresh_results }}</span></h6>
          <div class="heading-elements not-collapsible">
              <ul class="icons-list">
                  <li><a data-action="collapse" class=""></a></li>
              </ul>
          </div>
      </div>
      <div class="panel-body">
	<div class="tab-pane" id="tab-refresh-results">

		<div class="row">
			<div class="col-md-4">
              <div class="form-group">
                  <label class="control-label">{{entry_show_loader_over_results}}</label>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[show_loader_over_results]" class="switchery dateIntervalSelect" {{ settings['show_loader_over_results'] == '1' ? 'checked' }} data-checked='{{ date_interval }}' data-target='dateInterval'>
                          <span class="switchery-status">
                            {% if settings['show_loader_over_results'] == '1' %} {{ text_enabled }} {% else  %} {{text_disabled}} {% endif %}
                          </span>
                    </label>
                  </div>
                   <span class="help-block"></span>
                   <span class="text-muted"></span>
                </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                  <label class="control-label">{{entry_show_loader_over_filter}}</label>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[show_loader_over_filter]" class="switchery dateIntervalSelect" {{ settings['show_loader_over_filter'] == '1' ? 'checked' }} data-checked='{{ date_interval }}' data-target='dateInterval'>
                          <span class="switchery-status">
                            {% if settings['show_loader_over_filter'] == '1' %} {{text_enabled}} {% else %} {{text_disabled}} {% endif %}
                          </span>
                    </label>
                  </div>
                   <span class="help-block"></span>
                   <span class="text-muted"></span>
                </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                  <label class="control-label">{{entry_auto_scroll_to_results}}</label>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[auto_scroll_to_results]" class="switchery dateIntervalSelect" {{ settings['auto_scroll_to_results'] == '1' ? 'checked' }} data-checked='{{ date_interval }}' data-target='dateInterval'>
                          <span class="switchery-status">
                            {% if settings['auto_scroll_to_results'] == '1' %} {{text_enabled}} {% else  %} {{text_disabled}} {% endif %}
                          </span>
                    </label>
                  </div>
                  <div class="input-group" style="padding-top: 10px">
                  	  <span class="input-group-addon" style="font-size: 11px;">{{entry_add}}</span>
                      <input type="number" min="0" class="form-control" name="mega_filter_settings[add_pixels_from_top]" value="{{ settings['add_pixels_from_top'] ? settings['add_pixels_from_top'] : 0 }}" />
                      <span class="input-group-addon" style="font-size: 11px;">{{text_pixels_from_top}}</span>
                   </div>
                   <span class="help-block"></span>
                   <span class="text-muted"></span>
                </div>
            </div>
		</div>

		<div class="row">
			<h6><span class="text-bold">{{ entry_refresh_results }}</span></h6>
			<div class="col-md-4">
              <div class="form-group">
                  <input class="styled" id="refresh_results_a" type="radio" name="mega_filter_settings[refresh_results]" value="immediately" {% if settings['refresh_results'] is empty or settings['refresh_results'] == 'immediately' %} checked="checked" {% endif %} />
                  <label for="refresh_results_a">{{ text_immediately }}</label>
                   <span class="help-block"></span>
                   <span class="text-muted">{{ text_immediately_help }}</span>
                </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                  <input class="styled" id="refresh_results_b" type="radio" name="mega_filter_settings[refresh_results]" value="with_delay" {% if settings['refresh_results'] is not empty and settings['refresh_results'] == 'with_delay' %} checked="checked" {% endif %} />
                  <label for="refresh_results_b">{{ text_with_delay }}</label>
                   <span class="help-block"></span>
                   <span class="text-muted">{{ text_with_delay_guide }}</span>
                   <div class="input-group" style="padding-top: 10px">
                  	  <span class="input-group-addon" style="font-size: 11px;">{{text_with_delay_help}}</span>
                      <input type="number" min="0" class="form-control" name="mega_filter_settings[refresh_delay]" value="{{  settings['refresh_delay'] is empty ? '1000' : settings['refresh_delay'] }}" />
                      <span class="input-group-addon" style="font-size: 11px;">{{text_milliseconds}}</span>
                   </div>
                </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                  <input class="styled" id="refresh_results_c" type="radio" name="mega_filter_settings[refresh_results]" value="using_button" {% if settings['refresh_results'] is not empty and settings['refresh_results'] == 'using_button' %} checked="checked" {% endif %} />
                  <label for="refresh_results_c">{{ text_using_button }}</label>
                   <span class="help-block"></span>
                   <span class="text-muted">{{ text_using_button_help }}</span>
                   <div class="input-group" style="padding-top: 10px">
                  	  {{ text_place_button }}:
                  	  <br/>
                  	  <input class="styled" style="vertical-align: middle; margin-top: 0" {% if settings['place_button'] is empty or settings['place_button'] == 'bottom' %} checked="checked" {% endif %} type="radio" name="mega_filter_settings[place_button]" value="bottom" id="place_button_a" />&nbsp;&nbsp;<label for="place_button_a">{{ text_place_button_bottom }}</label><br />
					<input class="styled" style="vertical-align: middle; margin-top: 0" {% if settings['place_button'] is not empty and settings['place_button'] == 'top' %} checked="checked" {% endif %} type="radio" name="mega_filter_settings[place_button]" value="top" id="place_button_b" />&nbsp;&nbsp;<label for="place_button_b">{{ text_place_button_top }}</label><br />
					<input class="styled" style="vertical-align: middle; margin-top: 0" {% if settings['place_button'] is not empty and settings['place_button'] == 'bottom_top' %} checked="checked" {% endif %} type="radio" name="mega_filter_settings[place_button]" value="bottom_top" id="place_button_c" />&nbsp;&nbsp;<label for="place_button_c">{{ text_place_button_bottom_top }}</label>
                   </div>
                </div>
            </div>
		</div>
	</div>
	</div>
</div>


<div class="panel panel-white ">
  <div class="panel-heading">
      <h6 class="panel-title"><span class="text-bold">{{ tab_display_list_of_items }}</span></h6>
      <div class="heading-elements not-collapsible">
          <ul class="icons-list">
              <li><a data-action="collapse" class=""></a></li>
          </ul>
      </div>
  </div>
  <div class="panel-body">
	<div class="tab-pane" id="tab-display-list-of-items">
		<div class="row">
			<div class="col-md-4">
              <div class="form-group">
                  <input class="styled" id="display-list-of-items_a" type="radio" name="mega_filter_settings[display_list_of_items][type]" value="scroll" {% if settings['display_list_of_items']['type'] is empty or settings['display_list_of_items']['type'] == 'scroll' %} checked="checked" {% endif %} />
                  <label for="display-list-of-items_a">{{entry_max_height}}</label>
                   <span class="help-block"></span>
                   <span class="text-muted"></span>
                   <div class="input-group" style="padding-top: 10px">
                  	  <span class="input-group-addon" style="font-size: 11px;">{{entry_max_height}}</span>
                      <input type="number" min="0" class="form-control" name="mega_filter_settings[display_list_of_items][max_height]" value="{{ settings['display_list_of_items']['max_height'] is empty ? 155 : settings['display_list_of_items']['max_height'] }}" />
                      <span class="input-group-addon" style="font-size: 11px;">{{entry_px}}</span>
                   </div>
                </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                  <input class="styled" id="display-list-of-items_b" type="radio" name="mega_filter_settings[display_list_of_items][type]" value="button_more" {% if settings['display_list_of_items']['type'] is not empty and settings['display_list_of_items']['type'] == 'button_more' %} checked="checked" {% endif %} />
                  <label for="display-list-of-items_b">{{entry_limit_of_items}}</label>
                   <span class="help-block"></span>
                   <span class="text-muted"></span>
                   <div class="input-group" style="padding-top: 10px">
                  	  <span class="input-group-addon" style="font-size: 11px;">{{entry_limit_of_items}}</span>
                      <input class="form-control" type="text" name="mega_filter_settings[display_list_of_items][limit_of_items]" value="{{ settings['display_list_of_items']['limit_of_items'] is empty ? 4 : settings['display_list_of_items']['limit_of_items'] }}" />
                   </div>
                </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                  <label class="control-label">{{ lang('text_Display_live_filter') }}</label>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[display_live_filter][enabled]" class="switchery dateIntervalSelect" value="button_more" {{ settings['display_live_filter']['enabled'] is not empty ? ' checked="checked"' }}>
                          <span class="switchery-status">
                          	{% if settings['display_live_filter']['enabled'] is not empty %} {{text_enabled}} {% else  %} {{text_disabled}} {% endif %}
                          </span>
                    </label>
                  </div>
                   <span class="help-block"></span>
                   <span class="text-muted">{{ entry_limit_live_filter }}</span>
                   <br />
					<input type="text" class="form-control" name="mega_filter_settings[display_live_filter][items]" value="{{ settings['display_live_filter']['items'] is not empty ? settings['display_live_filter']['items'] }}" />
                </div>
            </div>
        </div>

		<table >
			<tbody>
			</tbody>
		</table>
	</div>
	</div>
</div>


<div class="panel panel-white ">
  <div class="panel-heading">
      <h6 class="panel-title"><span class="text-bold">{{ tab_style }}</span></h6>
      <div class="heading-elements not-collapsible">
          <ul class="icons-list">
              <li><a data-action="collapse" class=""></a></li>
          </ul>
      </div>
  </div>
  <div class="panel-body">
	<div class="tab-pane" id="tab-style">
		<div class="row">
			<div class="col-md-3">
				<div class="panel panel-body border-top-info text-center">
					<h6 class="no-margin text-semibold">{{entry_color_counter_background}}</h6>
					<p class="content-group-sm text-muted"></p>

					<input type="text" class="form-control colorpicker-event-move" data-preferred-format="hex" name="mega_filter_settings[background_color_counter]" value="{% if settings['background_color_counter'] is not empty %}{{ settings['background_color_counter']}}{% else %}#428bca{% endif %}">
				</div>
			</div>
			<div class="col-md-3">
				<div class="panel panel-body border-top-info text-center">
					<h6 class="no-margin text-semibold">{{entry_color_counter_text}}</h6>
					<br/>
					<p class="content-group-sm text-muted"></p>

					<input type="text" class="form-control colorpicker-event-move" data-preferred-format="hex" name="mega_filter_settings[text_color_counter]" value="{% if settings['text_color_counter'] is not empty %}{{ settings['text_color_counter'] }}{% else %}#ffffff{% endif %}">
				</div>
			</div>
			<div class="col-md-3">
				<div class="panel panel-body border-top-info text-center">
					<h6 class="no-margin text-semibold">{{entry_color_search_button_background}}</h6>
					<p class="content-group-sm text-muted"></p>

					<input type="text" class="form-control colorpicker-event-move" data-preferred-format="hex" name="mega_filter_settings[background_color_search_button]" value="{% if settings['background_color_search_button'] is not empty %}{{ settings['background_color_search_button'] }}{% else %}#428bca{% endif %}">
				</div>
			</div>
			<div class="col-md-3">
				<div class="panel panel-body border-top-info text-center">
					<h6 class="no-margin text-semibold">{{entry_color_slider_background}}</h6>
					<br/>
					<p class="content-group-sm text-muted"></p>

					<input type="text" class="form-control colorpicker-event-move" data-preferred-format="hex" name="mega_filter_settings[background_color_slider]" value="{% if settings['background_color_slider'] is not empty %}{{settings['background_color_slider']}}{% else %}#e3bf2a{% endif %}">
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-3">
				<div class="panel panel-body border-top-info text-center">
					<h6 class="no-margin text-semibold">{{entry_color_header_background}}</h6>
					<br/>
					<p class="content-group-sm text-muted"></p>

					<input type="text" class="form-control colorpicker-event-move" data-preferred-format="hex" name="mega_filter_settings[background_color_header]" value="{% if settings['background_color_header'] is not empty %}{{settings['background_color_header']}}{% else %}#999999{% endif %}">
				</div>
			</div>
			<div class="col-md-3">
				<div class="panel panel-body border-top-info text-center">
					<h6 class="no-margin text-semibold">{{entry_color_header_text}}</h6>
					<br/>
					<p class="content-group-sm text-muted"></p>

					<input type="text" class="form-control colorpicker-event-move" data-preferred-format="hex" name="mega_filter_settings[text_color_header]" value="{% if settings['text_color_header'] is not empty %}{{settings['text_color_header']}}{% else %}#333333{% endif %}">
				</div>
			</div>
			<div class="col-md-3">
				<div class="panel panel-body border-top-info text-center">
					<h6 class="no-margin text-semibold">{{entry_color_header_border_bottom}}</h6>
					<p class="content-group-sm text-muted"></p>

					<input type="text" class="form-control colorpicker-event-move" data-preferred-format="hex" name="mega_filter_settings[border_bottom_color_header]" value="{% if settings['border_bottom_color_header'] is not empty %}{{settings['border_bottom_color_header']}}{% else %}#808080{% endif %}">
				</div>
			</div>
			<div class="col-md-3">
              <div class="form-group">
                  <label class="control-label">{{entry_image_size}}</label>
                  <div class="input-group" style="padding-top: 10px">
                      <input type="text" class="form-control" name="mega_filter_settings[image_size_width]" size="5" value="{% if settings['image_size_width'] is not empty %}{{settings['image_size_width']}}{% else %}20{% endif %}" />
                      <span class="input-group-addon" style="font-size: 11px;">X</span>
					  <input type="text" class="form-control" name="mega_filter_settings[image_size_height]" size="5" value="{% if settings['image_size_height'] is not empty %}{{settings['image_size_height']}}{% else %} 20  {% endif %}" />
                   </div>
                   <span class="help-block"></span>
                   <span class="text-muted"></span>
                </div>
            </div>
		</div>
		<table>
			<tr style="display: none;">
				<td>{{ entry_css_style }}</td>
				<td colspan="3">
					<textarea name="mega_filter_settings[css_style]" cols="150" rows="20">{{ settings['css_style'] is not empty ?  settings['css_style'] }}</textarea>
				</td>
			</tr>
		</table>
	</div>
	</div>
</div>

<div class="panel panel-white" style="display: none;">
  <div class="panel-heading">
      <h6 class="panel-title"><span class="text-bold">{{ tab_javascript }}</span></h6>
      <div class="heading-elements not-collapsible">
          <ul class="icons-list">
              <li><a data-action="collapse" class=""></a></li>
          </ul>
      </div>
  </div>
  <div class="panel-body">
	<div class="tab-pane" id="tab-javascript">
		<table class="table table-hover">
			<tr>
				<td width="200">{{ entry_javascript }}</td>
				<td>
					<textarea name="mega_filter_settings[javascript]" cols="150" rows="20"></textarea>
				</td>
			</tr>
			<tr>
				<td>{{ entry_content_selector }}</td>
				<td>
					<table>
						<tr>
							<td>
								{% set content_selector_val = '' %}
								{% if (settings.content_selector is defined) and (settings.content_selector is not empty) %}
									{% set content_selector_val = settings.content_selector %}
								{%else%}
									{% set content_selector_val = '#mfilter-content-container' %}
								{% endif %}
								<input type="text" name="mega_filter_settings[content_selector]" value="{{ content_selector_val }}" />
							</td>
							<td>
								{{ text_content_selector_guide }}<br />
								<img src="{{ HTTP_URL ~ "view/stylesheet/mf/images/content_selector.jpg" }}" />
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</table>
	</div>
</div>
</div>

<div class="panel panel-white">
  <div class="panel-heading">
      <h6 class="panel-title"><span class="text-bold">{{ tab_other }}</span></h6>
      <div class="heading-elements not-collapsible">
          <ul class="icons-list">
              <li><a data-action="collapse" class=""></a></li>
          </ul>
      </div>
  </div>
  <div class="panel-body">
	<div class="tab-pane" id="tab-other">
		<div class="row">
			<div class="col-md-3">
	              <div class="form-group">
					<label><span>{{entry_type_of_condition}}</span></label>
					<div class="multi-select-full">
						<select class="form-control selectBasic" name="mega_filter_settings[type_of_condition]">
							<option value="or" {{ settings['type_of_condition'] == 'or' ? 'selected="selected"' }}>{{ lang('entry_or') }}</option>
							<option value="and" {{ settings['type_of_condition'] == 'and' ? 'selected="selected"' }}>{{ lang('entry_and') }}</option>
						</select>
					</div>
					<span class="help-block"></span>
	                <span class="text-muted"></span>
				</div>
	      	</div>
	      	<div class="col-md-3">
              <div class="form-group">
                  <label class="control-label">{{entry_calculate_number_of_products}}</label>
                  <br/><br/>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[calculate_number_of_products]" class="switchery dateIntervalSelect" {{ settings['calculate_number_of_products'] == 1 ? 'checked' }} data-checked='{{ date_interval }}'>
                          <span class="switchery-status">
                            {% if settings['calculate_number_of_products'] == 1 %} {{text_enabled}} {% else  %} {{text_disabled}} {% endif %}
                          </span>
                    </label>
                  </div>
                   <span class="help-block"></span>
                   <span class="text-muted"></span>
                </div>
            </div>
            <div class="col-md-3 show_number_of_products">
              <div class="form-group">
                  <label class="control-label">{{entry_show_products}}</label>
                  <br/><br/>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[show_number_of_products]" class="switchery dateIntervalSelect" {{ settings['show_number_of_products'] == 1 ? 'checked' }} data-checked='{{ date_interval }}'>
                          <span class="switchery-status">
                            {% if settings['show_number_of_products'] == 1 %} {{text_enabled}} {% else  %} {{text_disabled}} {% endif %}
                          </span>
                    </label>
                  </div>
                   <span class="help-block"></span>
                   <span class="text-muted"></span>
                </div>
            </div>
            <div class="col-md-3 hide_inactive_values">
              <div class="form-group">
                  <label class="control-label">{{entry_hide_inactive_values}}</label>
                  <br/><br/>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[hide_inactive_values]" class="switchery dateIntervalSelect" {{ settings['hide_inactive_values'] == 1 ? 'checked' }} data-checked='{{ date_interval }}'>
                          <span class="switchery-status">
                            {% if settings['hide_inactive_values'] == 1 %} {{text_enabled}} {% else  %} {{text_disabled}} {% endif %}
                          </span>
                    </label>
                  </div>
                   <span class="help-block"></span>
                   <span class="text-muted"></span>
                </div>
            </div>
		</div>
		<div class="row">
			<div class="col-md-3">
              <div class="form-group">
                  <label class="control-label">{{entry_show_reset_button}}</label>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[show_reset_button]" class="switchery dateIntervalSelect" {{ settings['show_reset_button'] == 1 ? 'checked' }} data-checked='{{ date_interval }}'>
                          <span class="switchery-status">
                            {% if settings['show_reset_button'] == 1 %} {{text_enabled}} {% else  %} {{text_disabled}} {% endif %}
                          </span>
                    </label>
                  </div>
                   <span class="help-block"></span>
                   <span class="text-muted"></span>
                </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                  <label class="control-label">{{entry_show_top_reset_button}}</label>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[show_top_reset_button]" class="switchery dateIntervalSelect" {{ settings['show_top_reset_button'] == 1 ? 'checked' }} data-checked='{{ date_interval }}'>
                          <span class="switchery-status">
                            {% if settings['show_top_reset_button'] == 1 %} {{text_enabled}} {% else  %} {{text_disabled}} {% endif %}
                          </span>
                    </label>
                  </div>
                   <span class="help-block"></span>
                   <span class="text-muted"></span>
                </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                  <label class="control-label">{{entry_enable_cache}}</label>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[cache_enabled]" class="switchery dateIntervalSelect" {{ settings['cache_enabled'] == 1 ? 'checked' }} data-checked='{{ date_interval }}'>
                          <span class="switchery-status">
                            {% if settings['cache_enabled'] == 1 %} {{text_enabled}} {% else  %} {{text_disabled}} {% endif %}
                          </span>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <span>
                          	<a style="margin-top: -6px;" href="{{ action_clear_cache }}" class="btn btn-xs btn-danger"><i class="icon-trash"></i> {{ text_clear_cache }}</a>
                          </span>
                    </label>
                  </div>
                   <span class="help-block"></span>
                   <span class="text-muted">{{ entry_every_24 }}</span>
                </div>
            </div>
		</div>
		<div class="row">
			<div class="col-md-6">
              <div class="form-group">
                  <label class="control-label">{{entry_show_products_from_subcategories}}</label>
                  <?php if( version_compare( VERSION, '1.5.1.3', '>=' ) ) { ?>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[show_products_from_subcategories]" class="switchery dateIntervalSelect" {{ settings['show_products_from_subcategories'] == 1 ? 'checked' }} data-checked='{{ date_interval }}'>
                          <span class="switchery-status">
                            {% if settings['show_products_from_subcategories'] == 1 %} {{ text_enabled }} {% else  %} {{text_disabled}} {% endif %}
                          </span>                        
                    </label>
                  </div>
                   
                   <div class="input-group" style="padding-top: 10px">
                      <span class="input-group-addon" style="font-size: 11px;">{{text_start_level}}</span>
					  <select name="mega_filter_settings[level_products_from_subcategories]" class="form-control selectBasic">

						{% for i in 1..10 %}
							<option {{ settings['level_products_from_subcategories'] == i ? ' selected="selected"' }} value="{{ i }}">{{ i }}</option>
						{% endfor %}
					</select>
                   </div>
					<span class="help-block"></span>
					<span class="text-muted">{{text_start_level_help}}</span>
                 <?php } else { ?>
					{{ text_oc_155 }}
				<?php } ?>
                </div>
            </div>
            <div class="col-md-6">
	              <div class="form-group">
					<label><span>{{entry_layout_category}}</span></label>
					<div class="multi-select-full" style="padding-top: 28px">
						<select class="form-control selectBasic" name="mega_filter_settings[layout_c]">
							{% for layout in layouts %}
							<option value="{{ layout['layout_id'] }}" {{ settings['layout_c'] == layout['layout_id'] ? 'selected="selected"' }}>{{ layout['name'] }}</option>
							{% endfor %}
						</select>
					</div>
					<span class="help-block"></span>
	                <span class="text-muted"></span>
				</div>
	      	</div>
		</div>
		<div class="row">
			<div class="col-md-6">
	              <div class="form-group">
					<label><span>{{entry_in_stock_status}}</span></label>
					<div class="multi-select-full">
						<select class="form-control selectBasic" name="mega_filter_settings[in_stock_status]">
							{% for stock_status in stockStatuses %}
							<option value="{{ stock_status['stock_status_id'] }}" {{ settings['in_stock_status'] == stock_status['stock_status_id'] ? 'selected="selected"' }}>{{ stock_status['name'] }}</option>
							{% endfor %}
						</select>
					</div>
					<span class="help-block"></span>
	                <span class="text-muted"></span>
				</div>
	      	</div>
	      	<div class="col-md-3">
              <div class="form-group">
                  <label>{{text_in_stock_default_selected}}</label>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[in_stock_default_selected]" class="switchery dateIntervalSelect" {{ settings['in_stock_default_selected'] == 1 ? 'checked' }} data-checked='{{ date_interval }}'>
                          <span class="switchery-status">
                            {% if settings['in_stock_default_selected'] == 1 %} {{ text_enabled }} {% else %} {{text_disabled}} {% endif %}
                          </span>
                    </label>
                  </div>
                   <span class="help-block"></span>
                   <span class="text-muted"></span>
                </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                  <label>{{text_stock_for_options_plus}}</label>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[stock_for_options_plus]" class="switchery dateIntervalSelect" {{ settings['stock_for_options_plus'] == 1 ? 'checked' }} data-checked='{{ date_interval }}'>
                          <span class="switchery-status">
                            {% if settings['stock_for_options_plus'] == 1 %} {{ text_enabled }} {% else %} {{text_disabled}} {% endif %}
                          </span>
                    </label>
                  </div>
                   <span class="help-block"></span>
                   <span class="text-muted">{{text_negative_impact}}</span>
                </div>
            </div>
		</div>
		<div class="row">
			<div class="col-md-3">
              <div class="form-group">
                  <label>{{entry_not_remember_filter_for_subcategories}}</label>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[not_remember_filter_for_subcategories]" class="switchery dateIntervalSelect" {{ settings['not_remember_filter_for_subcategories'] == 1 ? 'checked' }} data-checked='{{ date_interval }}'>
                          <span class="switchery-status">
                            {% if settings['not_remember_filter_for_subcategories'] == 1 %} {{ text_enabled }} {% else %} {{text_disabled}} {% endif %}
                          </span>
                    </label>
                  </div>
                   <span class="help-block"></span>
                   <span class="text-muted"></span>
                </div>
            </div>
            <div class="col-md-3">
	              <div class="form-group">
					<label><span>{{entry_attribute_separator}}</span></label>
					<div class="multi-select-full">
						<select class="form-control selectBasic" name="mega_filter_settings[attribute_separator]">
							<option value="">{{ text_none }}</option>
							{% set separators = [',', '|', ';', '#', '/'] %}
							{% for separator in separators %}
								<option value="{{ separator }}" {{ settings['attribute_separator'] == separator ? 'selected="selected"'}}>{{ separator }}</option>
							{% endfor %}
						</select>
					</div>
					<span class="help-block"></span>
	                <span class="text-muted">{{ text_attribute_separator_guide }}</span>
				</div>
	      	</div>
	      	<div class="col-md-3">
              <div class="form-group">
                  <label>{{entry_manual_init}}</label>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[manual_init]" class="switchery dateIntervalSelect" {{ settings['manual_init'] == 1 ? 'checked' }} data-checked='{{ date_interval }}'>
                          <span class="switchery-status">
                            {% if settings['manual_init'] == 1 %} {{ text_enabled }} {% else %} {{text_disabled}} {% endif %}
                          </span>
                    </label>
                  </div>
                   <span class="help-block"></span>
                   <span class="text-muted"></span>
                </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                  <label>{{entry_change_top_to_column_on_mobile}}</label>
                  <div class="checkbox checkbox-switchery no-margin">
                    <label>
                          <input type="checkbox" onchange="changeStatus(this);" name="mega_filter_settings[change_top_to_column_on_mobile]" class="switchery dateIntervalSelect" {{ settings['change_top_to_column_on_mobile'] == 1 ? 'checked' }} data-checked='{{ date_interval }}'>
                          <span class="switchery-status">
                            {% if settings['change_top_to_column_on_mobile'] == 1 %} {{ text_enabled }} {% else  %} {{text_disabled}} {% endif %}
                          </span>
                    </label>
                  </div>
                   <span class="help-block"></span>
                   <span class="text-muted"></span>
                </div>
            </div>
		</div>
	</div>
	</div>
</div>
</form>
{% include "includes/buttons_bottom.expand" %}

<script type="text/javascript">
    $(".styled").uniform({
    radioClass: 'choice'
    });
	(function($){
		$('input[name="mega_filter_settings[calculate_number_of_products]"]').change(function(){
			var checked = $(this).is(':checked');
			
			$('input[name="mega_filter_settings[show_number_of_products]"],input[name="mega_filter_settings[hide_inactive_values]"]').parent().parent()[checked?'show':'hide']();
		}).trigger('change');
	})(jQuery);
	
	// $('input[name="mega_filter_settings[refresh_results]"]').change(function(){
	// 	$('input[name="mega_filter_settings[refresh_results]"]').each(function(){

	// 		var $inputs = $(this).parent().find('input:not([name="mega_filter_settings[refresh_results]"])');

	// 		if( $(this).is(':checked') ) {
	// 			$inputs.removeAttr('disabled');
	// 		} else {
	// 			$inputs.attr('disabled', true);
	// 		}
	// 	});
	// }).trigger('change');

function changeStatus(checkbox)
{
    var self = $(checkbox);
    var switch_status = self.siblings('.switchery-status');

    if ( self.is(':checked') )
    {
        switch_status.html("{{ text_enabled }}");
    }
    else
    {
        switch_status.html("{{ text_disabled }}");
    }
}
$(function() {
	// Move event
	$(".colorpicker-event-move").spectrum({
	    move: function(c) {
	        var label = $("#move-result");
	        label.removeClass('hidden').html('Move called: ' + '<span class="text-semibold">' + c.toHexString() + '</span>');
	    },
	    showInput: true
	});
});

</script>
{% endblock %}