{% extends "base.expand" %}
{% from "controls/breadcrumb.expand" import breadcrumb as breadcrumb %}
{% import "controls/forms.expand" as forms %}
{% set dualMenuEnabled = true %}

{% block title %}
    {{ lang('heading_title', 'module/quickcheckout/form') }}
{% endblock title %}

{% block breadcrumb %}
    {{ breadcrumb(breadcrumbs) }}
{% endblock breadcrumb %}

{% block secondarymenu %}
    {% include 'module/quickcheckoutmenu.expand' with {'expand': '#quickcheckout', 'active': '#general'} %}
{% endblock secondarymenu %}

{% block headelements %}
    <a href="{{ link('module/quickcheckout_fields') }}" class="btn btn-info btn-ladda">
        <i class="fa fa-keyboard-o fa-lg position-left"></i> {{ lang('text_custom_fields') }}
    </a>

    {% include "includes/buttons_top.expand" %}

{% endblock headelements %}

{% block content %}
<form action="<?php echo $action; ?>" method="post" enctype="multipart/form-data" class="form">


    <div class="tab-content" style="padding-left: 0">
      <!---------------------------------- General ---------------------------------->
      <div class="tab-pane active"  id="general" style="padding-top: 0;">
          <!-- $$$$$$$$$$$$$$$$$$$$$ display none fields -->
            <table class="table table-hover dataTable no-footer" style="display: none;">
              <tr>
                <td class="name"><span><?php echo $text_general_main_checkout; ?></span><i class="icon-question" rel="tooltip"  data-help="<?php echo $general_main_checkout_tooltip; ?>"></i></td>
                <td class="settings"><input type="hidden" value="0" name="quickcheckout[general][main_checkout]" />
                  <label  for="general_main_checkout"><?php echo $settings_enable; ?></label></td>
              </tr>
              <tr>
                <td class="name"><span><?php echo $text_general_clear_session; ?></span><i class="icon-question" rel="tooltip"  data-help="<?php echo $general_clear_session_tooltip; ?>"></i></td>
                <td class="settings"><input type="hidden" value="0" name="quickcheckout[general][clear_session]" />
                  <?php if(isset($quickcheckout['general']['clear_session']) && $quickcheckout['general']['clear_session'] == 1){ ?>
                  <input class="styled" type="checkbox" value="1" name="quickcheckout[general][clear_session]" checked="checked" id="general_clear_session" />
                  <?php }else{ ?>
                  <input class="styled" type="checkbox" value="1" name="quickcheckout[general][clear_session]" id="general_clear_session" />
                  <?php } ?>
                  <label  for="general_clear_session"><?php echo $settings_enable; ?></label></td>
              </tr>
              <tr>
                <td class="name"><span><?php echo $text_general_login_refresh; ?></span></td>
                <td class="settings"><input type="hidden" value="0" name="quickcheckout[general][login_refresh]" />
                  <?php if(isset($quickcheckout['general']['login_refresh']) && $quickcheckout['general']['login_refresh'] == 1){ ?>
                  <input class="styled" type="checkbox" value="1" name="quickcheckout[general][login_refresh]" checked="checked" id="general_login_refresh" />
                  <?php }else{ ?>
                  <input class="styled" type="checkbox" value="1" name="quickcheckout[general][login_refresh]" id="general_login_refresh" />
                  <?php } ?>
                  <label  for="general_login_refresh"><?php echo $settings_enable; ?></label></td>
              </tr>
              <tr>
                <td class="name"><span><?php echo $text_general_default_email; ?></span><i class="icon-question" rel="tooltip"  data-help="<?php echo $general_default_email_tooltip; ?>"></i></td>
                <td class="settings"><?php if(isset($quickcheckout['general']['default_email']) && $quickcheckout['general']['default_email'] != ""){ ?>
                  <input type="text" value="<?php echo $quickcheckout['general']['default_email']; ?>" name="quickcheckout[general][default_email]" id="general_default_email" class="styled"/>
                  <?php }else{ ?>
                  <input type="text" value="0" name="quickcheckout[general][default_email]" id="general_default_email"/>
                  <?php } ?>

                </td>

              </tr>
              <tr>
                <td class="name"><span><?php echo $text_general_version; ?></span><i class="icon-question" rel="tooltip"  data-help="<?php echo $general_version_tooltip; ?>"></i></td>
                <td class="settings "><a id="version_check" class="button btn btn-primary"><?php echo $text_debug_button; ?></a><div id="version_result"></div>
                </td>

              </tr>
              <tr>
                <td class="name"><span><?php echo $text_general_debug; ?></span><i class="icon-question" rel="tooltip"  data-help="<?php echo $general_debug_tooltip; ?>"></i></td>
                <td class="settings"><input type="hidden" value="0" name="quickcheckout[general][debug]" />
                  {#<?php if(isset($quickcheckout['general']['debug']) && $quickcheckout['general']['debug'] == 1){ ?>
                  <input class="styled" type="checkbox" value="1" name="quickcheckout[general][debug]" checked="checked" id="general_debug" />
                  <?php }else{ ?>
                  <input class="styled" type="checkbox" value="1" name="quickcheckout[general][debug]" id="general_debug" />
                  <?php } ?>#}
                  <label  for="general_debug"><?php echo $settings_enable; ?></label></td>

              </tr>
              <tr>
                  <td class="name"><span><?php echo $text_general_trigger; ?></span></td>
                  <td colspan="2"><?php if(isset($quickcheckout['general']['trigger'])){ ?>
                    <input name="quickcheckout[general][trigger]" class="full-width" value="<?php echo $quickcheckout['general']['trigger']; ?>" />
                    <?php }else{ ?>
                    <input name="quickcheckout[general][trigger]" class="full-width" value="" />
                    <?php } ?></td>
                </tr>
            </table>
          <!-- $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$-->
{#          <div class="panel panel-white">#}
{#            <div class="panel-heading">#}
{#                <h6 class="panel-title"><span class="text-bold"><i class="fa fa-cog"></i><span> {{ text_general }}</span></span></h6>#}
{#                <div class="heading-elements not-collapsible">#}
{#                    <ul class="icons-list">#}
{#                        <li><a data-action="collapse" class=""></a></li>#}
{#                    </ul>#}
{#                </div>#}
{#            </div>#}
{#            <div class="panel-body">#}
{#            <div class="row">#}
{#              <div class="col-md-3">#}
{#                  <div class="form-group"  id="quickcheckout[general][default_option]-group">#}
{#                    <label class="control-label">#}
{#                    {{ text_general_default }}#}
{#                    </label>#}
{#                    <br/>#}
{#                    <input class="styled" type="radio" value="guest" name="quickcheckout[general][default_option]"#}
{#                            {% if quickcheckout['general']['default_option'] == 'guest' %}#}
{#                                checked="checked"#}
{#                            {% endif %}#}
{#                           id="general_default_option_guest"#}
{#                    />#}
{#                    &nbsp;&nbsp;&nbsp;&nbsp;#}
{#                      <label  for="general_default_option_guest">{{ text_guest }}</label>#}
{#                    <input class="styled" type="radio" value="register" name="quickcheckout[general][default_option]"#}
{#                            {% if quickcheckout['general']['default_option'] == 'register' %}#}
{#                                checked="checked" {% endif %} id="general_default_option_register" />#}
{#                    &nbsp;&nbsp;&nbsp;&nbsp;#}
{#                      <label  for="general_default_option_register">{{ text_register }}</label>#}
{#                    <span class="help-block"></span>#}
{#                    <span class="text-muted">{{ general_default_tooltip }}</span>#}
{#                  </div>#}
{#              </div>#}

                {#              <div class="col-md-3">#}
                {#                <div class="form-group"  id="quickcheckout[general][display_country_code]-group">#}
                {#                  <label class="control-label">#}
                {#                    {{ text_display_country_code }}#}
                {#                  </label>#}
                {#                  <div class="checkbox checkbox-switchery no-margin">#}
                {#                    <label>#}
                {#                          <input type="checkbox" onchange="changeStatus(this);" name="quickcheckout[general][display_country_code]" class="switchery" {{ quickcheckout['general']['display_country_code'] == 1 ? 'checked' }}>#}
                {#                          <span class="switchery-status">#}
                {#                            {% if quickcheckout['general']['display_country_code'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}#}
                {#                          </span>#}
                {#                    </label>#}
                {#                  </div>#}
                {#                  <span class="help-block"></span>#}
                {#                  <span class="text-muted">{{ text_display_country_code }}</span>#}
                {#                </div>#}
                {#              </div>#}
                                {# todo this setting moved to store_checkout #}
                {#                  <div class="col-md-3">#}
                {#                    <div class="form-group" id="quickcheckout[general][min_order][value]-group">#}
                {#                         <label class="control-label">#}
                {#                          {{text_general_min_order}}#}
                {#                         </label>#}
                {#                         <div class="input-group">#}
                {#                            <span class="input-group-addon">%s</span>#}
                {#                            <input placeholder=".css" type="text" class="form-control" name="quickcheckout[general][min_order][value]" value="{{ quickcheckout['general']['min_order']['value'] ? quickcheckout['general']['min_order']['value'] : 0 }}" />#}
                {#                         </div>#}
                {#                         <span class="help-block"></span>#}
                {#                        <span class="text-muted">{{general_min_order_tooltip}}</span>#}
                {#                     </div>#}
                {#                  </div>#}

                {#                  <div class="col-md-3">#}
                {#                    <div class="form-group" id="quickcheckout[general][min_quantity][value]-group">#}
                {#                         <label class="control-label">#}
                {#                          {{text_general_min_quantity}}#}
                {#                         </label>#}
                {#                         <div class="input-group">#}
                {#                            <span class="input-group-addon">%s</span>#}
                {#                            <input placeholder=".css" type="text" class="form-control" name="quickcheckout[general][min_quantity][value]" value="{{ quickcheckout['general']['min_quantity']['value'] ? quickcheckout['general']['min_quantity']['value'] : 0 }}" />#}
                {#                         </div>#}
                {#                         <span class="help-block"></span>#}
                {#                        <span class="text-muted">{{general_min_quantity_tooltip}}</span>#}
                {#                     </div>#}
                {#                  </div>#}
                                {# end of todo #}
                {#                <div class="col-md-3">#}
                {#                    <div class="form-group"  id="quickcheckout[general][skip_length_validation]-group">#}
                {#                        <label class="control-label">#}
                {#                            {{ text_skip_length_validation }}#}
                {#                        </label>#}
                {#                        <div class="checkbox checkbox-switchery no-margin">#}
                {#                            <label>#}
                {#                                <input type="checkbox" onchange="changeStatus(this);" name="quickcheckout[general][skip_length_validation]" class="switchery" {{ quickcheckout['general']['skip_length_validation'] == 1 ? 'checked' }}>#}
                {#                                <span class="switchery-status">#}
                {#                            {% if quickcheckout['general']['skip_length_validation'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}#}
                {#                          </span>#}
                {#                            </label>#}
                {#                        </div>#}
                {#                        <span class="help-block"></span>#}
                {#                        <span class="text-muted">{{ text_skip_length_validation }}</span>#}
                {#                    </div>#}
                {#                </div>#}
                {#                <div class="col-md-3">#}
                {#                    <div class="form-group"  id="quickcheckout[general][skip_default_address_validation]-group">#}
                {#                        <label class="control-label">#}
                {#                            {{ text_skip_default_address_validation }}#}
                {#                        </label>#}
                {#                        <div class="checkbox checkbox-switchery no-margin">#}
                {#                            <label>#}
                {#                                <input type="checkbox" onchange="changeStatus(this);" name="quickcheckout[general][skip_default_address_validation]" class="switchery" {{ quickcheckout['general']['skip_default_address_validation'] == 1 ? 'checked' }}>#}
                {#                                <span class="switchery-status">#}
                {#                            {% if quickcheckout['general']['skip_default_address_validation'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}#}
                {#                          </span>#}
                {#                            </label>#}
                {#                        </div>#}
                {#                        <span class="help-block"></span>#}
                {#                        <span class="text-muted">{{ text_skip_default_address_validation }}</span>#}
                {#                    </div>#}
                {#                </div>#}
                                {# todo this setting moved to store_checkout #}

                {#                {% for lang in languages %}#}
                {#                <div class="col-md-3">#}
                {#                  <div class="form-group" id="quickcheckout[general][min_quantity][value]-group">#}
                {#                       <label class="control-label">#}
                {#                        {{lang('min_order_message')}}#}
                {#                       </label>#}
                {#                       <div class="input-group">#}
                {#                          <span class="input-group-addon"><img src="view/image/flags/{{ lang['image'] }}"#}
                {#                                             title="{{ lang['name'] }}" class="pull-right"></span>#}
                {#                          <input placeholder=".css" type="text" class="form-control"#}
                {#                          name="quickcheckout[general][min_order][text][{{ lang['language_id'] }}]"#}
                {#                          value="{{ quickcheckout['general']['min_order']['text'][ lang['language_id'] ] ?: '' }}" />#}
                {#                       </div>#}
                {#                       <span class="help-block"></span>#}
                {#                   </div>#}
                {#                </div>#}
                {#              {% endfor %}#}

                {#                <div class="col-md-3">#}
                {#                    <div class="form-group"  id="quickcheckout[general][skip_length_validation]-group">#}
                {#                        <label class="control-label">#}
                {#                            {{ text_skip_length_validation }}#}
                {#                        </label>#}
                {#                        <div class="checkbox checkbox-switchery no-margin">#}
                {#                            <label>#}
                {#                                <input type="checkbox" onchange="changeStatus(this);" name="quickcheckout[general][skip_length_validation]" class="switchery" {{ quickcheckout['general']['skip_length_validation'] == 1 ? 'checked' }}>#}
                {#                                <span class="switchery-status">#}
                {#                            {% if quickcheckout['general']['skip_length_validation'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}#}
                {#                          </span>#}
                {#                            </label>#}
                {#                        </div>#}
                {#                        <span class="help-block"></span>#}
                {#                        <span class="text-muted">{{ text_skip_length_validation }}</span>#}
                {#                    </div>#}
                {#                </div>#}
                {#                <div class="col-md-3">#}
                {#                    <div class="form-group"  id="quickcheckout[general][skip_default_address_validation]-group">#}
                {#                        <label class="control-label">#}
                {#                            {{ text_skip_default_address_validation }}#}
                {#                        </label>#}
                {#                        <div class="checkbox checkbox-switchery no-margin">#}
                {#                            <label>#}
                {#                                <input type="checkbox" onchange="changeStatus(this);" name="quickcheckout[general][skip_default_address_validation]" class="switchery" {{ quickcheckout['general']['skip_default_address_validation'] == 1 ? 'checked' }}>#}
                {#                                <span class="switchery-status">#}
                {#                            {% if quickcheckout['general']['skip_default_address_validation'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}#}
                {#                          </span>#}
                {#                            </label>#}
                {#                        </div>#}
                {#                        <span class="help-block"></span>#}
                {#                        <span class="text-muted">{{ text_skip_default_address_validation }}</span>#}
                {#                    </div>#}
                {#                </div>#}

                {#                {% for lang in languages %}#}
                {#                <div class="col-md-3">#}
                {#                  <div class="form-group" id="quickcheckout[general][min_quantity][value]-group">#}
                {#                       <label class="control-label">#}
                {#                        {{lang('min_order_message')}}#}
                {#                       </label>#}
                {#                       <div class="input-group">#}
                {#                          <span class="input-group-addon"><img src="view/image/flags/{{ lang['image'] }}"#}
                {#                                             title="{{ lang['name'] }}" class="pull-right"></span>#}
                {#                          <input placeholder=".css" type="text" class="form-control"#}
                {#                          name="quickcheckout[general][min_order][text][{{ lang['language_id'] }}]"#}
                {#                          value="{{ quickcheckout['general']['min_order']['text'][ lang['language_id'] ] ?: '' }}" />#}
                {#                       </div>#}
                {#                       <span class="help-block"></span>#}
                {#                   </div>#}
                {#                </div>#}
                {#              {% endfor %}#}
{#            </div>#}
{#            </div>#}
{#          </div>#}

          <div class="panel panel-white">
            <div class="panel-heading">
                <h6 class="panel-title">
                  <span class="text-bold"><i class="fa fa-key"></i> {{ text_login }}</span>
                  <span>[ <a href="{{ link_social_login_edit }}"><i class="fa fa-pencil"></i> {{ text_social_login_edit }}</a> ]
                </span>
                </h6>
                <div class="heading-elements not-collapsible">
                    <ul class="icons-list">
                        <li><a data-action="collapse" class=""></a></li>
                    </ul>
                </div>
            </div>
            <div class="panel-body">
                <div class="row">

                  <div class="col-md-6">

                    <div class="form-group">

                             <label class="control-label"> {{google_map_api_key}} </label>

                            <input  type="text" class="form-control"

                                      name="google_map_api_key"


                                        value="{{ quickcheckout['general']['google_map_api_key'] ?: '' }}" />

                             <span class="help-block"></span>


                        </div>
                  </div>


{#                    {% if quickcheckout['general']['social_login'] %}#}
{#                        <div id="sortable_social_login" class="col-md-6">#}
{#                          {% for provider_name, provider in quickcheckout['general']['social_login']['providers'] %}#}
{#                              {% if provider['id'] and provider['id'] != 'linkedin' and provider['id'] != 'yahoo' %}#}
{#                                  <div class="sortable">#}
{#                                      <div class="col-sm-5">#}
{#                                          <span><span class="{{ provider['icon'] }}"></span> {{ lang('text_' ~ provider['id']) }}#}
{#                                          </span>#}
{#                                      </div>#}
{#                                      <div class="col-sm-6">#}
{#                                          <input type="hidden" class="sort-value" value="{{ provider['sort_order'] }}" name="quickcheckout[general][social_login][providers][{{ provider_name }}][sort_order]">#}
{#                                          <div class="checkbox checkbox-switchery no-margin">#}
{#                                            <label>#}
{#                                                  <input type="checkbox" onchange="changeStatus(this);" name="quickcheckout[general][social_login][providers][{{ provider_name }}][enabled]" class="switchery" {{ provider['enabled'] ? 'checked' }}>#}
{#                                                  <span class="switchery-status">#}
{#                                                    {% if provider['enabled'] %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}#}
{#                                                  </span>#}
{#                                            </label>#}
{#                                          </div>#}
{#                                          <span class="icon-drag"></span>#}
{#                                      </div>#}
{#                              <!-- Sort -->#}
{#                                <div class="form-group col-md-1 text-right" style="padding-top: 15px;">#}
{#                                    <span class="icon-three-bars sort-item"></span>#}
{#                                </div>#}
{#                                <!-- /Sort -->#}
{#                                <hr style="border: 1px solid #e8e8e8; width: 100%;">#}
{#                            </div>#}
{#                            {% endif %}#}
{#                          {% endfor %}#}
{#                        {% else %}#}
{#                        <div class="callout callout-warning">{{ text_social_login_required }}</div>#}
{#                        {% endif %}#}
{#                      </div>#}

{#                      <div class="col-md-6">#}
{#                        <div class="form-group" id="css_selector-group">#}
{#                             <label class="control-label">{{ setting }}{{text_socila_login_style}}</label>#}
{#                             <select name="quickcheckout[general][socila_login_style]" class="form-control selectBasic">#}
{#                              {% for style in socila_login_styles %}#}

{#                                    <option value="{{ style }}" {% if quickcheckout['general']['socila_login_style'] == style %} selected="selected" {% endif %}>{{ style }}</option>#}
{#                              {% endfor %}#}
{#                             </select>#}
{#                             <span class="help-block"></span>#}
{#                            <span class="text-muted">{{text_set_csss}}</span>#}
{#                         </div>#}
{#                      </div>#}

                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="control-label"> {{google_map_default_lng}} </label>
                      <input  type="text" class="form-control" name="google_map_default_lng" value="{{quickcheckout['general']['google_map_default_lng'] ?: '' }}" />
                      <span class="help-block"></span>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="control-label"> {{google_map_default_lat}} </label>
                      <input  type="text" class="form-control" name="google_map_default_lat" value="{{quickcheckout['general']['google_map_default_lat'] ?: '' }}" />
                      <span class="help-block"></span>
                    </div>
                  </div>

                </div>
              </div>
            </div>

          <div class="panel panel-white">
          <div class="panel-heading">
              <h6 class="panel-title"><span class="text-bold"><i class="icon-design"></i><span> {{ text_design }}</span></span></h6>
              <div class="heading-elements not-collapsible">
                  <ul class="icons-list">
                      <li><a data-action="collapse" class=""></a></li>
                  </ul>
              </div>
          </div>
            <div class="panel-body">
              <div class="row">
{#                <div class="col-md-3">#}
{#                    <div class="form-group">#}
{#                        <label class="control-label">{{ text_step_login_option }}</label>#}
{#                        <br/>#}
{#                          <input type="hidden" value="0" name="quickcheckout[step][login][option][login][display]" />#}
{#                          <input class="styled" type="checkbox" value="{{ quickcheckout['step']['login']['option']['login']['display'] }}" name="quickcheckout[step][login][option][login][display]" {% if quickcheckout['step']['login']['option']['login']['display'] and quickcheckout['step']['login']['option']['login']['display'] == 1 %} checked="checked" {% endif %} id="step_login_option_login_display"/>#}
{#                          <label for="step_login_option_login_display">{{ step_login_option_login_display }}</label>#}
{#                          &nbsp;&nbsp;#}
{#                          <input class="styled" type="checkbox" value="{{ quickcheckout['step']['login']['option']['register']['display'] }}" name="quickcheckout[step][login][option][register][display]" {% if quickcheckout['step']['login']['option']['register']['display'] and quickcheckout['step']['login']['option']['register']['display'] == 1 %} checked="checked" {% endif %} id="step_login_option_login_display"/>#}
{#                          <label for="step_login_option_register_display">{{ step_login_option_register_display }}</label>#}
{#                          &nbsp;&nbsp;#}
{#                          <input class="styled" type="checkbox" value="{{ quickcheckout['step']['login']['option']['guest']['display'] }}" name="quickcheckout[step][login][option][guest][display]" {% if quickcheckout['step']['login']['option']['guest']['display'] and quickcheckout['step']['login']['option']['guest']['display'] == 1 %} checked="checked" {% endif %} id="step_login_option_login_display"/>#}
{#                          <label for="step_login_option_guest_display">{{ step_login_option_guest_display }}</label>#}
{#                          &nbsp;&nbsp;#}
{#                        <span class="help-block"></span>#}
{#                        <span class="text-muted">{{step_login_option_tooltip}}</span>#}
{#                    </div>#}
{#                </div>#}

                  <div class="col-md-3">
                    <div class="form-group"  id="quickcheckout[general][only_quickcheckout]-group">
                      <label class="control-label">
                        {{ text_general_only_quickcheckout }}

                      </label>
                      <div class="checkbox checkbox-switchery no-margin">
                        <label>
                              <input type="checkbox" onchange="changeStatus(this);" name="quickcheckout[general][only_quickcheckout]" class="switchery" {{ quickcheckout['general']['only_quickcheckout'] ? 'checked' }}>
                              <input type="hidden" value="0" name="quickcheckout[general][only_quickcheckout]" />
                              <span class="switchery-status">
                                {% if quickcheckout['general']['only_quickcheckout'] %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}
                              </span>
                        </label>
                      </div>
                      <span class="help-block"></span>
                      <span class="text-muted">{{ general_only_quickcheckout_tooltip }}</span>
                    </div>
                  </div>

                  <div class="col-md-3">
                    <div class="form-group" id="quickcheckout[general][address_style]-group">
                      <label  class="control-label">
                        {{ text_general_cart_image_size }}
                      </label>

                       <div class="input-group">
                          <span class="input-group-addon">{{ text_cart_image_size_width }}&nbsp;</span>
                          <input type="text" class="form-control" name="quickcheckout[general][cart_image_size][width]" value="{{ quickcheckout['general']['cart_image_size']['width'] ? quickcheckout['general']['cart_image_size']['width'] : 150 }}" />
                       </div>
                       <div class="input-group">
                          <span class="input-group-addon">{{ text_cart_image_size_height }}</span>
                          <input type="text" class="form-control" name="quickcheckout[general][cart_image_size][height]" value="{{ quickcheckout['general']['cart_image_size']['height'] ? quickcheckout['general']['cart_image_size']['height'] : 150 }}" />
                       </div>
                     <span class="help-block"></span>
                      <span class="text-muted">{{ general_cart_image_size_tooltip }}</span>
                    </div>
                  </div>

                  <div class="col-md-3">
                    <div class="form-group" id="quickcheckout[general][address_style]-group">
                      <label  class="control-label">
                        {{ text_general_address_style }}
                      </label>
                      <select name="quickcheckout[general][address_style]" class="form-control selectBasic">
                          <option  {% if quickcheckout['general']['address_style'] and quickcheckout['general']['address_style'] == 'radio' %} selected {% endif %} value="radio">Radio</option>
                          <option {% if quickcheckout['general']['address_style'] and quickcheckout['general']['address_style'] == 'select' %} selected {% endif %} value="select">Select</option>
                      </select>
                     <span class="help-block"></span>
                      <span class="text-muted">{{general_address_style_tooltip}}</span>
                    </div>
                  </div>
              </div>

              <table style="width: 100%">
                  <tbody>
                    <tr style="display: none;">
                      <td class="name"><span><?php echo $text_general_theme; ?></span><i class="icon-question" rel="tooltip"   data-help="<?php echo $general_theme_tooltip; ?>"></i></td>
                      <td class="settings" colspan="2">
                      <select name="quickcheckout[general][theme]">
                        <?php foreach ($themes as $theme) {?>
                                <?php if($quickcheckout['general']['theme'] == $theme){ ?>
                                  <option value="<?php echo $theme; ?>" selected="selected"><?php echo $theme; ?></option>
                                  <?php }else{ ?>
                                  <option value="<?php echo $theme; ?>"><?php echo $theme; ?></option>
                                  <?php } ?>
                        <?php } ?>
                       </select>
                       </td>
                    </tr>
                    <tr style="display: none;">
                      <td class="name"><span><?php echo $text_general_block_style; ?></span><i class="icon-question" rel="tooltip"   data-help="<?php echo $general_block_style_tooltip; ?>"></i></td>
                      <td class="settings" colspan="2"><?php if(isset($quickcheckout['general']['block_style']) && $quickcheckout['general']['block_style'] == 'row'){ ?>
                        <input class="styled" type="radio" value="row" name="quickcheckout[general][block_style]" checked="checked" id="block_style_row" />
                        <label for="block_style_row"><?php echo $text_style_row; ?></label>
                        <input class="styled" type="radio" value="block" name="quickcheckout[general][block_style]" id="block_style_block" />
                        <label for="block_style_block"><?php echo $text_style_block; ?></label>
                        <?php }else{ ?>
                        <input class="styled" type="radio" value="row" name="quickcheckout[general][block_style]" id="block_style_row" />
                        <label for="block_style_row"><?php echo $text_style_row; ?></label>
                        <input class="styled" type="radio" value="block" name="quickcheckout[general][block_style]" checked="checked" id="block_style_block"/>
                        <label for="block_style_block"><?php echo $text_style_block; ?></label>
                        <?php } ?></td>

                    </tr>

                     <tr style="display: none;">
                      <td class="name"><span><?php echo $text_general_login_style; ?></span><i class="icon-question" rel="tooltip"   data-help="<?php echo $general_login_style_tooltip; ?>"></i></td>
                      <td class="settings" colspan="2"><?php if(isset($quickcheckout['general']['login_style']) && $quickcheckout['general']['login_style'] == 'block'){ ?>
                        <input class="styled" type="radio" value="block" name="quickcheckout[general][login_style]" checked="checked" id="login_style_block" />
                        <label for="login_style_block"><?php echo $text_style_block; ?></label>
                        <input class="styled" type="radio" value="popup" name="quickcheckout[general][login_style]" id="login_style_popup" />
                        <label for="login_style_popup"><?php echo $text_style_popup; ?></label>
                        <?php }else{ ?>
                        <input class="styled" type="radio" value="block" name="quickcheckout[general][login_style]" id="login_style_block" />
                        <label for="login_style_block"><?php echo $text_style_block; ?></label>
                        <input class="styled" type="radio" value="popup" name="quickcheckout[general][login_style]" checked="checked" id="login_style_popup"/>
                        <label for="login_style_popup"><?php echo $text_style_popup; ?></label>
                        <?php } ?></td>

                    </tr>

                    <tr style="display: none;">
                      <td class="name"><span><?php echo $text_general_max_width; ?></span><i class="icon-question" rel="tooltip"   data-help="<?php echo $general_max_width_tooltip; ?>"></i></td>
                      <td class="settings" colspan="2">

                        <input  id="max_width" name="quickcheckout[general][max_width]" value="<?php echo (isset($quickcheckout['general']['max_width'])) ? $quickcheckout['general']['max_width'] : '960'; ?>" />px
                    </tr>
                     <tr style="display: none;">
                      <td class="name"><span><?php echo $text_general_uniform; ?></span><i class="icon-question" rel="tooltip"   data-help="<?php echo $general_uniform_tooltip; ?>"></i></td>
                      <td class="settings" colspan="2">
                        <input type="hidden" value="0" name="quickcheckout[general][uniform]" />
                        <input class="styled" type="checkbox" value="1" name="quickcheckout[general][uniform]" <?php echo (isset($quickcheckout['general']['uniform']) && $quickcheckout['general']['uniform'])? 'checked="checked"' : ''; ?> id="general_uniform" />
                        <label for="general_uniform"><?php echo $settings_enable; ?></label>
                    </tr>


                    <tr >
                      <td class="name">
                        <span>{{ text_general_column }}</span><i class="icon-question" rel="tooltip"  data-help="{{ general_column_tooltip }}"></i>
                      </td>
                      <td  colspan="2" style="position:static;  ">
                        <div class="columns" style="width: 800px;height: auto;">

                          <div class="input-group" style="width: 33%;float: left;padding-right: 5px">
                            <input type="text"  class="column-data-1 col form-control" name="quickcheckout[general][column_width][1]" value="{{ quickcheckout['general']['column_width'][1] }}" style="border: 1px solid #e0e1e1;padding: 15px !important;"/>
                            <span class="input-group-addon">%</span>
                         </div>
                         <div class="input-group" style="width: 33%;float: left;padding-right: 5px">
                            <input type="text"  class="column-data-2 col  form-control" name="quickcheckout[general][column_width][2]" value="{{ quickcheckout['general']['column_width'][2] }}" style="border: 1px solid #e0e1e1;padding: 15px !important;"/>
                            <span class="input-group-addon">%</span>
                         </div>
                         <div class="input-group" style="width: 33%;float: left">
                            <input type="text"  class="column-data-3 col  form-control" name="quickcheckout[general][column_width][3]" value="{{ quickcheckout['general']['column_width'][3] }}" style="border: 1px solid #e0e1e1;padding: 15px !important;"/>
                            <span class="input-group-addon">%</span>
                         </div>

                            <input type="text"  class="column-data-4 col  form-control" name="quickcheckout[general][column_width][4]" value="{{ quickcheckout['general']['column_width'][4] }}" />

                        </div >
                        <div style="overflow:hidden; width: 800px;">
                        <div id="slider"></div>
                        <div id="column_groups" style="width: 100%">

                        <ul class="column column-1" col-data="1" id="column_group_1" style="width: 33%">
                          <li class="portlet" col-data="{{ quickcheckout['step']['payment_address']['column'] }}" row-data="{{ quickcheckout['step']['payment_address']['row'] }}">
                            <div class="portlet-header"><i class="icon-small-payment-address"></i>{{ text_payment_address }}</div>
                            <div class="portlet-content">
                              <div class="text">{{ text_payment_address_description }}</div>
                              <div class="text"><i class="icon-drag"></i></div>
                              <input type="text"  class="sort col-data" name="quickcheckout[step][payment_address][column]" value="{{ quickcheckout['step']['payment_address']['column'] }}" />
                              <input type="text"  class="sort row-data" name="quickcheckout[step][payment_address][row]" value="{{ quickcheckout['step']['payment_address']['row'] }}" />
                            </div>
                          </li>
                          <li class="portlet" col-data="{{ quickcheckout['step']['shipping_address']['column'] }}" row-data="{{ quickcheckout['step']['shipping_address']['row'] }}">
                            <div class="portlet-header"><i class="icon-small-shipping-address"></i>{{ text_shipping_address }}</div>
                            <div class="portlet-content">
                              <div class="text">{{ text_shipping_address_description }}</div>
                              <div class="text"><i class="icon-drag"></i></div>
                              <input type="text"  class="sort col-data" name="quickcheckout[step][shipping_address][column]" value="{{ quickcheckout['step']['shipping_address']['column'] }}" />
                              <input type="text"  class="sort row-data" name="quickcheckout[step][shipping_address][row]" value="{{ quickcheckout['step']['shipping_address']['row'] }}" />
                            </div>
                          </li>
                         <li class="portlet" col-data="{{ quickcheckout['step']['shipping_method']['column'] }}" row-data="{{ quickcheckout['step']['shipping_method']['row'] }}">
                            <div class="portlet-header"><i class="icon-small-shipping-method"></i>{{ text_shipping_method }}</div>
                            <div class="portlet-content">
                              <div class="text">{{ text_shipping_method_description }}</div>
                              <div class="text"><i class="icon-drag"></i></div>
                              <input type="text"  class="sort col-data" name="quickcheckout[step][shipping_method][column]" value="{{ quickcheckout['step']['shipping_method']['column'] }}" />
                              <input type="text"  class="sort row-data" name="quickcheckout[step][shipping_method][row]" value="{{ quickcheckout['step']['shipping_method']['row'] }}" />
                            </div>
                          </li>
                          <li class="portlet" col-data="{{ quickcheckout['step']['payment_method']['column'] }}" row-data="{{ quickcheckout['step']['payment_method']['row'] }}">
                            <div class="portlet-header"><i class="icon-small-payment-method"></i>{{ text_payment_method }}</div>
                            <div class="portlet-content">
                              <div class="text">{{ text_payment_method_description }}</div>
                              <div class="text"><i class="icon-drag"></i></div>
                              <input type="text"  class="sort col-data" name="quickcheckout[step][payment_method][column]" value="{{ quickcheckout['step']['payment_method']['column'] }}" />
                              <input type="text"  class="sort row-data" name="quickcheckout[step][payment_method][row]" value="{{ quickcheckout['step']['payment_method']['row'] }}" />
                            </div>
                          </li>
                          <li class="portlet" col-data="{{ quickcheckout['step']['cart']['column'] }}" row-data="{{ quickcheckout['step']['cart']['row'] }}">
                            <div class="portlet-header"><i class="icon-small-confirm"></i>{{ text_cart }}</div>
                            <div class="portlet-content">
                              <div class="text">{{ text_cart_description }}</div>
                              <div class="text"><i class="icon-drag"></i></div>
                              <input type="text"  class="sort col-data" name="quickcheckout[step][cart][column]" value="{{ quickcheckout['step']['cart']['column'] }}" />
                              <input type="text"  class="sort row-data" name="quickcheckout[step][cart][row]" value="{{ quickcheckout['step']['cart']['row'] }}" />
                            </div>
                          </li>
                          <li class="portlet" col-data="{{ quickcheckout['step']['payment']['column'] }}" row-data="{{ quickcheckout['step']['payment']['row'] }}">
                            <div class="portlet-header"><i class="icon-small-confirm"></i>{{ text_payment }}</div>
                            <div class="portlet-content">
                              <div class="text">{{ text_payment_description }}</div>
                              <div class="text"><i class="icon-drag"></i></div>
                              <input type="text"  class="sort col-data" name="quickcheckout[step][payment][column]" value="{{ quickcheckout['step']['payment']['column'] }}" />
                              <input type="text"  class="sort row-data" name="quickcheckout[step][payment][row]" value="{{ quickcheckout['step']['payment']['row'] }}" />
                            </div>
                          </li>
                          <li class="portlet" col-data="{{ quickcheckout['step']['confirm']['column'] }}" row-data="{{ quickcheckout['step']['confirm']['row'] }}">
                            <div class="portlet-header"><i class="icon-small-confirm"></i>{{ text_confirm }}</div>
                            <div class="portlet-content">
                              <div class="text">{{ text_confirm_description }}</div>
                              <div class="text"><i class="icon-drag"></i></div>
                              <input type="text"  class="sort col-data" name="quickcheckout[step][confirm][column]" value="{{ quickcheckout['step']['confirm']['column'] }}" />
                              <input type="text"  class="sort row-data" name="quickcheckout[step][confirm][row]" value="{{ quickcheckout['step']['confirm']['row'] }}" />
                            </div>
                          </li>
                        </ul>
                        <div id="column_group_2" style="width: 66%">
                        <ul class="column column-2" col-data="2" style="width: 49%">
                        </ul>
                        <ul class="column column-3" col-data="3" style="width: 49%">
                        </ul>


                        <ul class="column column-4" col-data="4" style="width: 100%">
                        </ul>
                        </div>
                      </div>
                        <br style="clear:both">
                      </div>
                       </td>
                    </tr>
                    <tr style="display: none;">
                      <td class="name"><span><?php echo $text_general_custom_style; ?></span><i class="icon-question" rel="tooltip"  data-help="<?php echo $general_custom_style_tooltip; ?>"></i></td>
                      <td colspan="2"><?php if(isset($quickcheckout['general']['checkout_style'])){ ?>
                        <textarea name="quickcheckout[general][checkout_style]" id="general_checkout_style" ><?php echo $quickcheckout['general']['checkout_style']; ?></textarea>
                        <?php }else{ ?>
                        <textarea name="quickcheckout[general][checkout_style]" id="general_checkout_style"></textarea>
                        <?php } ?></td>
                    </tr>

                  </tbody>
              </table>

          </div>
        </div>
      </div>
      <!---------------------------------- Payment Address ---------------------------------->
      <div class="tab-pane" id="payment_address" style="padding-top: 0;">
        <div class="panel panel-white">
          <div class="panel-heading">
              <h6 class="panel-title"><span class="text-bold"><i class="fa fa-map-marker"></i><span> {{ text_payment_address }}</span></span></h6>
              <div class="heading-elements not-collapsible">
                  <ul class="icons-list">
                      <li><a data-action="collapse" class=""></a></li>
                  </ul>
              </div>
          </div>
          <div class="table-responsive">
        <div class="tab-body">
          <table class="table table-hover">
                <thead>
                  <tr>
                    <th></th>
                    <th class="guest">{{ text_guest_customer }}</th>
                    <th class="register">{{ text_registrating_customer }}</th>
                    <th class="login">{{ text_logged_in_customer }}</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                <tr id="payment_address_display_input"  sort-data="-1">
                    <td class="name">
                      <span>{{ text_payment_address_display_input }}</span>
                    </td>
                    <td >
                        <input class="styled" type="checkbox" value="{{ quickcheckout['option']['guest']['payment_address']['display'] }}" name="quickcheckout[option][guest][payment_address][display]" {% if quickcheckout['option']['guest']['payment_address']['display'] and quickcheckout['option']['guest']['payment_address']['display'] == 1 %} checked="checked" {% endif %}/>
                        <label for="guest_payment_address_fields_display_display">{{ settings_display }}</label>
                    </td>
                    <td >
                      <input class="styled" type="checkbox" value="{{ quickcheckout['option']['register']['payment_address']['display'] }}" name="quickcheckout[option][register][payment_address][display]" {% if quickcheckout['option']['register']['payment_address']['display'] and quickcheckout['option']['register']['payment_address']['display'] == 1 %} checked="checked" {% endif %}/>
                      <label for="register_payment_address_fields_display_display"><?php echo $settings_display; ?></label>
                  </td>
                  <td >
                      <input class="styled" type="checkbox" value="{{ quickcheckout['option']['logged']['payment_address']['display'] }}" name="quickcheckout[option][logged][payment_address][display]" {% if quickcheckout['option']['logged']['payment_address']['display'] and quickcheckout['option']['logged']['payment_address']['display'] == 1 %} checked="checked" {% endif %}/>
                      <label for="logged_payment_address_fields_display_display"><?php echo $settings_display; ?></label>
                  </td>
                  <td></td>
                </tr>
                </tbody>
                <tbody class="sortable ui-sortable">
                {% for field in quickcheckout['step']['payment_address']['fields'] %}
                {% if field['id'] is not null %}
                <tr id="payment_address_{{ field['id'] }}_input" class="sort-item {{ field['type'] == 'system' ? 'hide' }}" sort-data="{{ quickcheckout['step']['payment_address']['fields'][field['id']]['sort_order'] ? quickcheckout['step']['payment_address']['fields'][field['id']]['sort_order'] }}">
                    <td class="name">
                      <span>{{ field['title'] }}
                        <input class="sort" type="text" value="{{ quickcheckout['step']['payment_address']['fields'][field['id']]['sort_order'] ? quickcheckout['step']['payment_address']['fields'][field['id']]['sort_order'] }}" name="{{ 'quickcheckout[step][payment_address][fields][' ~ field['id'] ~ '][sort_order]' }}" />
                      </span>
                    </td>
                    <td >
                      {% if quickcheckout['option']['guest']['payment_address']['fields'][field['id']]['display'] is defined %}
                          <input class="styled" type="checkbox" value="{{ quickcheckout['option']['guest']['payment_address']['fields'][field['id']]['display'] }}" name="{{ 'quickcheckout[option][guest][payment_address][fields][' ~ field['id'] ~ '][display]'}}" {% if quickcheckout['option']['guest']['payment_address']['fields'][field['id']]['display'] and quickcheckout['option']['guest']['payment_address']['fields'][field['id']]['display'] == 1 %} checked="checked" {% endif %} id="guest_payment_address_fields_{{ field['id'] }}_display"/>
                          <label for="guest_payment_address_fields_{{ field['id'] }}_display">{{ settings_display }}</label>&nbsp;&nbsp;&nbsp;

                        {% if quickcheckout['option']['guest']['payment_address']['fields'][field['id']]['require'] is defined %}
                          <input class="styled" type="checkbox" value="{{ quickcheckout['option']['guest']['payment_address']['fields'][field['id']]['require'] }}" name="{{ 'quickcheckout[option][guest][payment_address][fields][' ~ field['id'] ~ '][require]'}}" {% if quickcheckout['option']['guest']['payment_address']['fields'][field['id']]['require'] == 1 %} checked="checked" {% endif %} id="guest_payment_address_fields_{{ field['id'] }}_require"/>
                          <label for="guest_payment_address_fields_{{ field['id'] }}_require">{{ settings_require }}</label>&nbsp;&nbsp;&nbsp;
                        {% endif %}
                      {% endif %}
                    </td>
                    <td >
                    {% if quickcheckout['option']['register']['payment_address']['fields'][field['id']]['display'] is defined %}
                        <input class="styled" type="checkbox" value="{{ quickcheckout['option']['register']['payment_address']['fields'][field['id']]['display'] }}" name="{{ 'quickcheckout[option][register][payment_address][fields][' ~ field['id'] ~ '][display]' }}" {% if quickcheckout['option']['register']['payment_address']['fields'][field['id']]['display'] and quickcheckout['option']['register']['payment_address']['fields'][field['id']]['display'] == 1 %} checked="checked" {% endif %} />
                        <label for="register_payment_address_fields_{{ field['id'] }}_display">{{ settings_display }}</label>&nbsp;&nbsp;&nbsp;

                        {% if quickcheckout['option']['register']['payment_address']['fields'][field['id']]['require'] is defined %}
                            <input class="styled" type="checkbox" value="{{ quickcheckout['option']['register']['payment_address']['fields'][field['id']]['require'] }}" name="{{ 'quickcheckout[option][register][payment_address][fields][' ~ field['id'] ~ '][require]' }}" {% if quickcheckout['option']['register']['payment_address']['fields'][field['id']]['require'] == 1 %} checked="checked" {% endif %}  id="register_payment_address_fields_{{ field['id'] }}_require"/>
                            <label for="register_payment_address_fields_{{ field['id'] }}_require">{{ settings_require }}</label>&nbsp;&nbsp;&nbsp;
                        {% endif %}
                  {% endif %}
                  </td>
                  <td >
                      {% if quickcheckout['option']['logged']['payment_address']['fields'][field['id']]['display'] is defined %}
                        <input class="styled" type="checkbox" value="{{ quickcheckout['option']['logged']['payment_address']['fields'][field['id']]['display'] }}" name="{{ 'quickcheckout[option][logged][payment_address][fields][' ~ field['id'] ~ '][display]' }}" {% if quickcheckout['option']['logged']['payment_address']['fields'][field['id']]['display'] is defined and quickcheckout['option']['logged']['payment_address']['fields'][field['id']]['display'] == 1 %} checked="checked" {% endif %}/>
                        <label for="logged_payment_address_fields_{{ field['id'] }}_display">{{ settings_display }}</label>&nbsp;&nbsp;&nbsp;

                          {% if quickcheckout['option']['logged']['payment_address']['fields'][field['id']]['require'] is defined %}
                            <input class="styled" type="checkbox" value="{{ quickcheckout['option']['logged']['payment_address']['fields'][field['id']]['require'] }}" name="{{ 'quickcheckout[option][logged][payment_address][fields][' ~ field['id'] ~ '][require]' }}" {% if quickcheckout['option']['logged']['payment_address']['fields'][field['id']]['require'] == 1 %} checked="checked" {% endif %} id="logged_payment_address_fields_{{ field['id'] }}_require"/>
                            <label for="logged_payment_address_fields_{{ field['id'] }}_require">{{ settings_require }}</label>&nbsp;&nbsp;&nbsp;
                        {% endif %}
                      {% endif %}
                  </td>
                  <td>
                      <!-- Sort -->
                      <div class="text-right">
                          <span class="icon-three-bars sort-item"></span>
                      </div>
                      <!-- /Sort -->
                    </td>
                  </tr>

                {% endif %}
                {% endfor %}
                </tbody>
              </table>
        </div>
      </div>
      </div>
      </div>
      <!---------------------------------- Shipping Address ---------------------------------->
      <div class="tab-pane" id="shipping_address" style="padding-top: 0;">
        <div class="panel panel-white">
          <div class="panel-heading">
              <h6 class="panel-title"><span class="text-bold"><i class="fa fa-map-marker"></i><span> {{ text_shipping_address }}</span></span></h6>
              <div class="heading-elements not-collapsible">
                  <ul class="icons-list">
                      <li><a data-action="collapse" class=""></a></li>
                  </ul>
              </div>
          </div>
          <div class="table-responsive">
        <div class="tab-body">
        <table class="table table-hover">
                <thead>
                  <tr>
                    <th></th>
                    <th class="guest">{{ text_guest_customer }}</th>
                    <th class="register">{{ text_registrating_customer }}</th>
                    <th class="login">{{ text_logged_in_customer }}</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                <tr id="shipping_address_display_input" >
                    <td class="name">
                      <span>{{ text_shipping_address_display_input }}</span>
                      <i class="icon-question3" data-popup="tooltip" title="" data-original-title="{{ shipping_address_enable_tooltip }}" data-placement="right"></i>
                    </td>
                    <td >

                        {% if quickcheckout['option']['guest']['shipping_address']['display'] is defined %}
                        <input class="styled" type="checkbox" value="{{ quickcheckout['option']['guest']['shipping_address']['display'] }}" name="quickcheckout[option][guest][shipping_address][display]" {% if quickcheckout['option']['guest']['shipping_address']['display'] == 1 %} checked="checked" {% endif %}/>
                        <label for="guest_shipping_address_display">{{ settings_display }}</label>&nbsp;&nbsp;&nbsp;
                        {% endif %}


                        {% if quickcheckout['option']['guest']['shipping_address']['require'] is defined %}
                        <input class="styled" type="checkbox" value="{{ quickcheckout['option']['guest']['shipping_address']['require'] }}" name="quickcheckout[option][guest][shipping_address][require]" {% if quickcheckout['option']['guest']['shipping_address']['require'] == 1 %} checked="checked" {% endif %}/>
                        <label for="guest_shipping_address_require">{{ settings_always_show }}</label>&nbsp;&nbsp;&nbsp;
                        {% endif %}
                    </td>
                    <td >

                      {% if quickcheckout['option']['register']['shipping_address']['display'] is defined %}
                      <input class="styled" type="checkbox" value="{{ quickcheckout['option']['register']['shipping_address']['display'] }}" name="quickcheckout[option][register][shipping_address][display]" {% if quickcheckout['option']['register']['shipping_address']['display'] == 1 %} checked="checked" {% endif %} />
                      <label for="register_shipping_address_display">{{ settings_display }}</label>&nbsp;&nbsp;&nbsp;
                      {% endif %}

                      {% if quickcheckout['option']['register']['shipping_address']['require'] is defined %}
                      <input class="styled" type="checkbox" value="{{ quickcheckout['option']['register']['shipping_address']['require'] }}" name="quickcheckout[option][register][shipping_address][require]" {% if quickcheckout['option']['register']['shipping_address']['require'] == 1 %} checked="checked" {% endif %}/>
                      <label for="register_shipping_address_require">{{ settings_always_show }}</label>&nbsp;&nbsp;&nbsp;
                      {% endif %}

                  </td>
                  <td >

                      {% if quickcheckout['option']['logged']['shipping_address']['display'] is defined %}
                      <input class="styled" type="checkbox" value="{{ quickcheckout['option']['logged']['shipping_address']['display'] }}" name="quickcheckout[option][logged][shipping_address][display]" {% if quickcheckout['option']['logged']['shipping_address']['display'] == 1 %} checked="checked" {% endif %}/>
                      <label for="logged_shipping_address_display">{{ settings_display }}</label>&nbsp;&nbsp;&nbsp;
                      {% endif %}


                      {% if quickcheckout['option']['logged']['shipping_address']['require'] is defined %}
                      <input class="styled" type="checkbox" value="{{ quickcheckout['option']['logged']['shipping_address']['require'] }}" name="quickcheckout[option][logged][shipping_address][require]" {% if quickcheckout['option']['logged']['shipping_address']['require'] == 1 %} checked="checked" {% endif %}/>
                      <label for="logged_shipping_address_require">{{ settings_always_show }}</label>&nbsp;&nbsp;&nbsp;
                      {% endif %}


                  </td>
                  <td></td>
                  </tr>
                  </tbody>
                 <tbody class="sortable ui-sortable">
                 {% for field in quickcheckout['step']['shipping_address']['fields'] %}
                <tr id="shipping_address_{{ field['id'] }}_input" class="sort-item {{ field['type'] == 'system' ? 'hide' }}" sort-data="{{ quickcheckout['step']['shipping_address']['fields'][field['id']]['sort_order'] is defined ? quickcheckout['step']['shipping_address']['fields'][field['id']]['sort_order'] }}">
                    <td class="name">
                      <span>{{ field['title'] }}
                      <input class="sort" type="text" value="{{ quickcheckout['step']['shipping_address']['fields'][field['id']]['sort_order'] is defined ? quickcheckout['step']['shipping_address']['fields'][field['id']]['sort_order'] }}" name="{{ 'quickcheckout[step][shipping_address][fields][' ~ field['id'] ~ '][sort_order]' }}" />
                      </span>
                    </td>
                    <td >
                      {% if quickcheckout['option']['guest']['shipping_address']['fields'][field['id']]['display'] is defined %}
                        <input class="styled" type="checkbox" value="1" name="{{ 'quickcheckout[option][guest][shipping_address][fields][' ~ field['id'] ~ '][display]' }}" {% if quickcheckout['option']['guest']['shipping_address']['fields'][field['id']]['display'] == 1 %} checked="checked" {% endif %} />
                        <label for="guest_shipping_address_fields_{{ field['id'] }}_display">{{ settings_display }}</label>&nbsp;&nbsp;&nbsp;
                        {% if quickcheckout['option']['guest']['shipping_address']['fields'][field['id']]['require'] is defined %}
                        <input type="hidden" value="0" name="quickcheckout[option][guest][shipping_address][fields][{{ field['id'] }}][require]" />

                          <input class="styled" type="checkbox" value="{{ quickcheckout['option']['guest']['shipping_address']['fields'][field['id']]['require'] }}" name="{{ 'quickcheckout[option][guest][shipping_address][fields][' ~ field['id'] ~ '][require]' }}" {% if quickcheckout['option']['guest']['shipping_address']['fields'][field['id']]['require'] == 1 %} checked="checked" {% endif %} />

                          <label for="guest_shipping_address_fields_{{ field['id'] }}_require">{{ settings_require }}</label>&nbsp;&nbsp;&nbsp;
                      {% endif %}
                    {% endif %}
                    </td>
                    <td >
                      {% if quickcheckout['option']['register']['shipping_address']['fields'][field['id']]['display'] is defined %}
                        <input class="styled" type="checkbox" value="{{ quickcheckout['option']['register']['shipping_address']['fields'][field['id']]['display'] }}" name="{{ 'quickcheckout[option][register][shipping_address][fields][' ~ field['id'] ~ '][display]'}}" {% if quickcheckout['option']['register']['shipping_address']['fields'][field['id']]['display'] == 1 %} checked="checked" {% endif %}/>
                        <label for="register_shipping_address_fields_{{ field['id'] }}_display">{{ settings_display }}</label>&nbsp;&nbsp;&nbsp;
                      {% if quickcheckout['option']['register']['shipping_address']['fields'][field['id']]['require'] is defined %}
                        <input class="styled" type="checkbox" value="{{ quickcheckout['option']['register']['shipping_address']['fields'][field['id']]['require'] }}" name="{{ 'quickcheckout[option][register][shipping_address][fields][' ~ field['id'] ~ '][require]' }}" {% if quickcheckout['option']['register']['shipping_address']['fields'][field['id']]['require'] == 1 %} checked="checked" {% endif %}/>
                        <label for="register_shipping_address_fields_{{ field['id'] }}_require">{{ settings_require }}</label>&nbsp;&nbsp;&nbsp;
                     {% endif %}
                  {% endif %}
                  </td>
                  <td >
                      {% if quickcheckout['option']['logged']['shipping_address']['fields'][field['id']]['display'] is defined %}
                          <input class="styled" type="checkbox" value="{{ quickcheckout['option']['logged']['shipping_address']['fields'][field['id']]['display'] }}" name="{{ 'quickcheckout[option][logged][shipping_address][fields][' ~ field['id'] ~ '][display]' }}" {% if quickcheckout['option']['logged']['shipping_address']['fields'][field['id']]['display'] == 1 %} checked="checked" {% endif %}/>
                          <label for="logged_shipping_address_fields_{{ field['id'] }}_display">{{ settings_display }}</label>&nbsp;&nbsp;&nbsp;

                        {% if quickcheckout['option']['logged']['shipping_address']['fields'][field['id']]['require'] is defined %}
                          <input class="styled" type="checkbox" value="{{ quickcheckout['option']['logged']['shipping_address']['fields'][field['id']]['require'] }}" name="{{ 'quickcheckout[option][logged][shipping_address][fields][' ~ field['id'] ~ '][require]' }}" {% if quickcheckout['option']['logged']['shipping_address']['fields'][field['id']]['require'] == 1 %} checked="checked" {% endif %}/>
                          <label for="logged_shipping_address_fields_{{ field['id'] }}_require">{{ settings_require }}</label>&nbsp;&nbsp;&nbsp;
                      {% endif %}
                    {% endif %}
                  </td>
                  <td>
                      <!-- Sort -->
                      <div class="text-right">
                          <span class="icon-three-bars sort-item"></span>
                      </div>
                      <!-- /Sort -->
                    </td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!---------------------------------- Payment Method ---------------------------------->
      <div class="tab-pane" id="payment_method" style="padding-top: 0;">
        <div class="panel panel-white">
          <div class="panel-heading">
              <h6 class="panel-title"><span class="text-bold"><i class="fa fa-credit-card"></i><span> {{ text_payment_method }}</span></h6>
              <div class="heading-elements not-collapsible">
                  <ul class="icons-list">
                      <li><a data-action="collapse" class=""></a></li>
                  </ul>
              </div>
          </div>
        <div class="panel-body">
          <div class="row">
            <div class="col-md-4">
              <div class="form-group"  id="quickcheckout[step][payment_method][display]-group">
                <label class="control-label">
                  {{ text_payment_method_display }}
                </label>
                <div class="checkbox checkbox-switchery no-margin">
                  <label>
                        <input type="checkbox" onchange="changeStatus(this);" name="quickcheckout[step][payment_method][display]" class="switchery" {{ quickcheckout['step']['payment_method']['display'] == 1 ? 'checked' }}>
                        <span class="switchery-status">
                          {% if quickcheckout['step']['payment_method']['display'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}
                        </span>
                  </label>
                </div>
                <span class="help-block"></span>
                <span class="text-muted">{{ payment_method_display_tooltip }}</span>
              </div>
            </div>

            <div class="col-md-4">
              <div class="form-group"  id="quickcheckout[step][payment_method][display_options]-group">
                <label class="control-label">
                  {{ text_payment_method_display_options }}
                </label>
                <div class="checkbox checkbox-switchery no-margin">
                  <label>
                        <input type="checkbox" onchange="changeStatus(this);" name="quickcheckout[step][payment_method][display_options]" class="switchery" {{ quickcheckout['step']['payment_method']['display_options'] == 1 ? 'checked' }}>
                        <span class="switchery-status">
                          {% if quickcheckout['step']['payment_method']['display_options'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}
                        </span>
                  </label>
                </div>
                <span class="help-block"></span>
                <span class="text-muted">{{ payment_method_display_options_tooltip }}</span>
              </div>
            </div>

            <div class="col-md-4">
              <div class="form-group" id="quickcheckout[step][payment_method][input_style]-group">
                   <label class="control-label">{{text_payment_method_input_style}}</label>
                   <select name="quickcheckout[step][payment_method][input_style]" class="form-control selectBasic">
                      <option value="radio" {{ quickcheckout['step']['payment_method']['input_style'] == 'radio' ? 'selected=selected' }}>Radio</option>
                      <option value="select" {{ quickcheckout['step']['payment_method']['input_style'] == 'select' ? 'selected=selected' }}>Select</option>
                   </select>
                   <span class="help-block"></span>
                <span class="text-muted">{{payment_method_input_style_tooltip}}</span>
               </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-4">
              <div class="form-group"  id="quickcheckout[step][payment_method][display_images]-group">
                <label class="control-label">
                  {{ text_payment_method_display_images }}
                </label>
                <div class="checkbox checkbox-switchery no-margin">
                  <label>
                        <input type="checkbox" onchange="changeStatus(this);" name="quickcheckout[step][payment_method][display_images]" class="switchery" {{ quickcheckout['step']['payment_method']['display_images'] == 1 ? 'checked' }}>
                        <span class="switchery-status">
                          {% if quickcheckout['step']['payment_method']['display_images'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}
                        </span>
                  </label>
                </div>
                <span class="help-block"></span>
                <span class="text-muted">{{ payment_method_display_images_tooltip }}</span>
              </div>
            </div>

{#            <div class="col-md-4">#}
{#              <div class="form-group" id="quickcheckout[step][payment_method][default_option]-group">#}
{#                   <label class="control-label">{{text_payment_method_default_option}}</label>#}
{#                   <select name="quickcheckout[step][payment_method][default_option]" class="form-control selectBasic">#}
{#                     {% for payment_method in payment_methods %}#}
{#                            <option value="{{ payment_method['code'] }}" {% if quickcheckout['step']['payment_method']['default_option'] == payment_method['code'] %} selected="selected" {% endif %}>{{ payment_method['title'] }}</option>#}
{#                      {% endfor %}#}
{#                   </select>#}
{#                   <span class="help-block"></span>#}
{#                <span class="text-muted">{{payment_method_default_option_tooltip}}</span>#}
{#               </div>#}
{#            </div>#}
          </div>
          </div>
        </div>

{#        <!-- Payment Discount Options -->#}
{#        <div class="panel panel-white">#}
{#          <div class="panel-heading">#}
{#              <h6 class="panel-title"><span class="text-bold"><i class="fa fa-credit-card"></i><span> {{ text_payment_method_off_factor }}</span></h6>#}
{#              <div class="heading-elements not-collapsible">#}
{#                  <ul class="icons-list">#}
{#                      <li><a data-action="collapse" class=""></a></li>#}
{#                  </ul>#}
{#              </div>#}
{#          </div>#}
{#          <div class="panel-body">#}
{#            <div class="row">#}
{#              <div class="col-md-4">#}
{#                <label class="control-label">{{text_payment_method_off_factor_status}}</label>#}
{#                <div class="checkbox checkbox-switchery">#}
{#                  <label>#}
{#                        <input type="checkbox" onchange="changeStatus(this);" name="off_factor_status" class="switchery" {{ off_factor_status == 1 ? 'checked' }}>#}
{#                        <span class="switchery-status">#}
{#                          {% if off_factor_status == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}#}
{#                        </span>#}
{#                  </label>#}
{#                </div>#}
{#              </div>#}

{#              <div class="col-md-4">#}
{#                <label class="control-label">{{text_payment_method_apply_on_shipping}}</label>#}
{#                <div class="checkbox checkbox-switchery">#}
{#                  <label>#}
{#                      <input type="checkbox" onchange="changeStatus(this);" name="quickcheckout[step][payment_method][off_factor_apply_on_shipping]" class="switchery" {{ quickcheckout['step']['payment_method']['off_factor_apply_on_shipping'] == 1 ? 'checked' }}>#}
{#                      <span class="switchery-status">#}
{#                        {% if quickcheckout['step']['payment_method']['off_factor_apply_on_shipping'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}#}
{#                      </span>#}
{#                  </label>#}
{#                </div>#}
{#              </div>#}

{#            </div>#}

{#            <br/>#}
{#              <div class="row">#}
{#              <div class="col-md-4">#}
{#                <label class="control-label">{{text_payment_method_off_factor_countries}}</label>#}
{#                <select name="quickcheckout[step][payment_method][off_factor_countries][]" class="select form-control" multiple>#}
{#                    {% for country in countries %}#}
{#                        <option value="{{ country['country_id'] }}" {{ (country['country_id'] in quickcheckout['step']['payment_method']['off_factor_countries']) ?'selected' }}>{{ country['name'] }}</option>#}
{#                    {% endfor %}#}
{#                </select>#}
{#              </div>#}

{#              <div class="col-md-4">#}
{#                <label class="control-label">{{text_payment_method_off_factor_payment_methods}}</label>#}
{#                <select name="quickcheckout[step][payment_method][off_factor_payment_methods][]" class="select form-control" multiple>#}
{#                    {% for payment_method in payment_methods_data %}#}
{#                      <option value="{{ payment_method['code'] }}" {{ (payment_method['code'] in quickcheckout['step']['payment_method']['off_factor_payment_methods']) ?'selected' }}>{{ payment_method['title'] }}</option>#}
{#                    {% endfor %}#}
{#                </select>#}
{#              </div>#}

{#                <div class="col-md-4">#}
{#                    <label class="control-label">{{text_payment_method_off_factor_percentage}}</label>#}
{#                    <div class="input-group">#}
{#                        <input type="number" class="form-control" id="discount-amount" min="0" max="100" name="quickcheckout[step][payment_method][off_factor_percentage]" value="{{quickcheckout['step']['payment_method']['off_factor_percentage'] ?? 0}}"/>#}
{#                    </div>#}
{#                </div>#}

{#            </div>#}
{#              <div class="row">#}
{#                  <div class="col-md-4">#}
{#                      <label class="control-label">{{text_payment_method_off_factor_limit}}</label>#}
{#                      <div class="input-group">#}
{#                          <input type="number" class="form-control" id="discount-amount" min="0" name="quickcheckout[step][payment_method][off_factor_discount_limit]" value="{{quickcheckout['step']['payment_method']['off_factor_discount_limit'] ?? 0}}"/>#}
{#                          <span class="help-block"></span>#}
{#                          <span class="text-muted">{{ lang('help_payment_method_off_factor_limit')}}</span>#}
{#                      </div>#}
{#                  </div>#}
{#              </div>#}
{#          </div>#}
{#        </div>#}

      </div>
      <!---------------------------------- Shipping Method ---------------------------------->
{#      <div class="tab-pane" id="shipping_method" style="padding-top: 0;">#}
{#        <div class="panel panel-white">#}
{#          <div class="panel-heading">#}
{#              <h6 class="panel-title"><span class="text-bold"><i class="fa fa-truck"></i><span> {{ text_shipping_method }}</span></span></h6>#}
{#              <div class="heading-elements not-collapsible">#}
{#                  <ul class="icons-list">#}
{#                      <li><a data-action="collapse" class=""></a></li>#}
{#                  </ul>#}
{#              </div>#}
{#          </div>#}
{#            #}{##}{#        <div class="panel-body">#}
{#            #}{##}{#          <div class="row">#}
{#            #}{##}{#            <div class="col-md-4">#}
{#            #}{##}{#              <div class="form-group"  id="quickcheckout[step][shipping_method][display]-group">#}
{#            #}{##}{#                <label class="control-label">#}
{#            #}{##}{#                  {{ text_shipping_method_display }}#}

{#            #}{##}{#                </label>#}
{#            #}{##}{#                <div class="checkbox checkbox-switchery no-margin">#}
{#            #}{##}{#                  <label>#}
{#            #}{##}{#                        <input type="checkbox" onchange="changeStatus(this);" name="quickcheckout[step][shipping_method][display]" class="switchery" {{ quickcheckout['step']['shipping_method']['display'] == 1 ? 'checked' }}>#}
{#            #}{##}{#                        <span class="switchery-status">#}
{#            #}{##}{#                          {% if quickcheckout['step']['shipping_method']['display'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}#}
{#            #}{##}{#                        </span>#}
{#            #}{##}{#                  </label>#}
{#            #}{##}{#                </div>#}
{#            #}{##}{#                <span class="help-block"></span>#}
{#            #}{##}{#                <span class="text-muted">{{ shipping_method_display_tooltip }}</span>#}
{#            #}{##}{#              </div>#}
{#            #}{##}{#            </div>#}

{#            #}{##}{#            <div class="col-md-4">#}
{#            #}{##}{#              <div class="form-group"  id="quickcheckout[step][shipping_method][display_options]-group">#}
{#            #}{##}{#                <label class="control-label">#}
{#            #}{##}{#                  {{ text_shipping_method_display_options }}#}

{#            #}{##}{#                </label>#}
{#            #}{##}{#                <div class="checkbox checkbox-switchery no-margin">#}
{#            #}{##}{#                  <label>#}
{#            #}{##}{#                        <input type="checkbox" onchange="changeStatus(this);" name="quickcheckout[step][shipping_method][display_options]" class="switchery" {{ quickcheckout['step']['shipping_method']['display_options'] == 1 ? 'checked' }}>#}
{#            #}{##}{#                        <span class="switchery-status">#}
{#            #}{##}{#                          {% if quickcheckout['step']['shipping_method']['display_options'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}#}
{#            #}{##}{#                        </span>#}
{#            #}{##}{#                  </label>#}
{#            #}{##}{#                </div>#}
{#            #}{##}{#                <span class="help-block"></span>#}
{#            #}{##}{#                <span class="text-muted">{{ shipping_method_display_options_tooltip }}</span>#}
{#            #}{##}{#              </div>#}
{#            #}{##}{#            </div>#}

{#            #}{##}{#            <div class="col-md-4">#}
{#            #}{##}{#              <div class="form-group"  id="quickcheckout[step][shipping_method][display_title]-group">#}
{#            #}{##}{#                <label class="control-label">#}
{#            #}{##}{#                  {{ text_shipping_method_display_title }}#}

{#            #}{##}{#                </label>#}
{#            #}{##}{#                <div class="checkbox checkbox-switchery no-margin">#}
{#            #}{##}{#                  <label>#}
{#            #}{##}{#                        <input type="checkbox" onchange="changeStatus(this);" name="quickcheckout[step][shipping_method][display_title]" class="switchery" {{ quickcheckout['step']['shipping_method']['display_title'] == 1 ? 'checked' }}>#}
{#            #}{##}{#                        <span class="switchery-status">#}
{#            #}{##}{#                          {% if quickcheckout['step']['shipping_method']['display_title'] == 1 %} {{ text_enabled }} {% else %} {{ text_disabled }} {% endif %}#}
{#            #}{##}{#                        </span>#}
{#            #}{##}{#                  </label>#}
{#            #}{##}{#                </div>#}
{#            #}{##}{#                <span class="help-block"></span>#}
{#            #}{##}{#                <span class="text-muted">{{ shipping_method_display_title_tooltip }}</span>#}
{#            #}{##}{#              </div>#}
{#            #}{##}{#            </div>#}
{#            #}{##}{#          </div>#}
{#            <div class="panel-body">#}
{#                <div class="row">#}
{#                #}{##}{#            <div class="col-md-4">#}
{#                #}{##}{#              <div class="form-group" id="quickcheckout[step][shipping_method][input_style]-group">#}
{#                #}{##}{#                   <label class="control-label">{{text_shipping_method_input_style}}</label>#}
{#                #}{##}{#                   <select name="quickcheckout[step][shipping_method][input_style]" class="form-control selectBasic">#}
{#                #}{##}{#                      <option value="radio" {{ quickcheckout['step']['shipping_method']['input_style'] == 'radio' ? 'selected=selected' }}>Radio</option>#}
{#                #}{##}{#                      <option value="select" {{ quickcheckout['step']['shipping_method']['input_style'] == 'select' ? 'selected=selected' }}>Select</option>#}
{#                #}{##}{#                   </select>#}
{#                #}{##}{#                   <span class="help-block"></span>#}
{#                #}{##}{#                <span class="text-muted">{{shipping_method_input_style_tooltip}}</span>#}
{#                #}{##}{#               </div>#}
{#                #}{##}{#            </div>#}

{#                #}{##}{#                <div class="col-md-4">#}
{#                #}{##}{#                  <div class="form-group" id="quickcheckout[step][shipping_method][default_option]-group">#}
{#                #}{##}{#                       <label class="control-label">{{text_shipping_method_default_option}}</label>#}
{#                #}{##}{#                       <select name="quickcheckout[step][shipping_method][default_option]" class="form-control selectBasic">#}
{#                #}{##}{#                         {% for shipping_method in shipping_methods %}#}
{#                #}{##}{#                              <option value="{{ shipping_method['code'] }}" {% if quickcheckout['step']['shipping_method']['default_option'] == shipping_method['code'] %} selected="selected" {% endif %}>{{ shipping_method['title'] }}</option>#}
{#                #}{##}{#                         {% endfor %}#}
{#                #}{##}{#                       </select>#}
{#                #}{##}{#                       <span class="help-block"></span>#}
{#                #}{##}{#                    <span class="text-muted">{{shipping_method_default_option_tooltip}}</span>#}
{#                #}{##}{#                  </div>#}
{#                #}{##}{#                </div>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#      </div>#}
    </div>
      <!---------------------------------- Confirm ---------------------------------->
      <div class="tab-pane" id="confirm" style="padding-top: 0;">
        <div class="panel panel-white">
          <div class="panel-heading">
              <h6 class="panel-title"><span class="text-bold"><i class="fa fa-check-circle"></i><span> {{ text_confirm }}</span></span></h6>
              <div class="heading-elements not-collapsible">
                  <ul class="icons-list">
                      <li><a data-action="collapse" class=""></a></li>
                  </ul>
              </div>
          </div>
          <div class="table-responsive">
        <div class="tab-body">
            <table class="table table-hover">
                <th></th>
                    <th class="guest">{{ text_guest_customer }}</th>
                    <th class="register">{{ text_registrating_customer }}</th>
                    <th class="login">{{ text_logged_in_customer }}</th>
                <tbody>
                <tr>
                    <td class="name">
                      <span>{{ text_cart_display }}</span>
                      <i class="icon-question3" data-popup="tooltip" title="" data-original-title="{{ cart_display_tooltip }}" data-placement="right"></i>
                    </td>
                    <td>


                      <input class="styled" type="checkbox" value="{% if quickcheckout['option']['guest']['cart']['display'] is defined %} {{ quickcheckout['option']['guest']['cart']['display'] }} {% else %} 0 {% endif%}" name="quickcheckout[option][guest][cart][display]" {% if quickcheckout['option']['guest']['cart']['display'] is defined and quickcheckout['option']['guest']['cart']['display'] == 1 %} checked="checked" {% endif %}/>
                      <label for="option_guest_cart_display">{{ settings_display }}</label>
                    </td>
                      <td>

                      <input class="styled" type="checkbox" value="{% if quickcheckout['option']['register']['cart']['display'] is defined %} {{ quickcheckout['option']['register']['cart']['display'] }} {% else %} 0 {% endif%}" name="quickcheckout[option][register][cart][display]" {% if quickcheckout['option']['register']['cart']['display'] is defined and quickcheckout['option']['register']['cart']['display'] == 1 %} checked="checked" {% endif %}/>
                       <label for="option_register_cart_display">{{ settings_display }}</label>
                     </td>

                      <td>

                      <input class="styled" type="checkbox" value="{% if quickcheckout['option']['logged']['cart']['display'] is defined %} {{ quickcheckout['option']['logged']['cart']['display'] }} {% else %} 0 {% endif%}" name="quickcheckout[option][logged][cart][display]" {% if quickcheckout['option']['logged']['cart']['display'] is defined and quickcheckout['option']['logged']['cart']['display'] == 1 %} checked="checked" {% endif %}/>
                      <label for="option_logged_cart_display">{{ settings_display }}</label>
                    </td>
                  </tr>



                  {% set fields = ['image', 'name', 'model', 'quantity', 'price', 'total'] %}
                  {% for field in fields %}
                  <tr>
                    <td class="name"><span> {{ lang('text_cart_columns_' ~ field) }}</span></td>
                    <td>
                      <input class="styled" type="checkbox" value="{{ quickcheckout['option']['guest']['cart']['columns'][field] is defined ? quickcheckout['option']['guest']['cart']['columns'][field] : 0 }}" name="{{ 'quickcheckout[option][guest][cart][columns][' ~ field ~ ']' }}" {% if quickcheckout['option']['guest']['cart']['columns'][field] is defined and quickcheckout['option']['guest']['cart']['columns'][field] == 1 %} checked="checked" {% endif %}/>
                      <label for="option_guest_cart_columns_{{ field }}">{{ settings_display }}</label>
                    </td>
                    <td>
                        <input class="styled" type="checkbox" value="{{ quickcheckout['option']['register']['cart']['columns'][field] is defined ? quickcheckout['option']['register']['cart']['columns'][field] : 0 }}" name="{{ 'quickcheckout[option][register][cart][columns][' ~ field ~ ']' }}" {% if quickcheckout['option']['register']['cart']['columns'][field] is defined and quickcheckout['option']['register']['cart']['columns'][field] == 1 %} checked="checked" {% endif %}/>
                      <label for="option_register_cart_columns_{{ field }}">{{ settings_display }}</label>
                    </td>
                      <td>
                        <input class="styled" type="checkbox" value="{{ quickcheckout['option']['logged']['cart']['columns'][field] is defined ? quickcheckout['option']['logged']['cart']['columns'][field] : 0 }}" name="{{ 'quickcheckout[option][logged][cart][columns][' ~ field ~ ']' }}" {% if quickcheckout['option']['logged']['cart']['columns'][field] is defined and quickcheckout['option']['logged']['cart']['columns'][field] == 1 %} checked="checked" {% endif %}/>
                      <label for="option_logged_cart_columns_{{ field }}">{{ settings_display }}</label></td>
                  </tr>
                  {% endfor %}

                   {% set fields = ['coupon', 'voucher', 'reward'] %}
                   {% for field in fields %}
                  <tr>
                    <td class="name">
                      <span>{{ lang('text_cart_option_' ~ field) }}</span>
                      <i class="icon-question3" data-popup="tooltip" title="" data-original-title="{{ lang('cart_option_' ~ field ~ '_tooltip') }}" data-placement="right"></i>
                    </td>
                    <td>

                      <input class="styled" type="checkbox" value="{% if quickcheckout['option']['guest']['cart']['option'][field]['display'] is defined %} {{ quickcheckout['option']['guest']['cart']['option'][field]['display'] }} {% else %} 0 {% endif%}" name="{{ 'quickcheckout[option][guest][cart][option][' ~ field ~ '][display]' }}" {% if quickcheckout['option']['guest']['cart']['option'][field]['display'] is defined and quickcheckout['option']['guest']['cart']['option'][field]['display'] == 1 %} checked="checked" {% endif %}/>
                      <label for="option_guest_cart_option_{{ field }}_display">{{ settings_display }}</label>
                    </td>
                      <td>
                        <input class="styled" type="checkbox" value="{% if quickcheckout['option']['register']['cart']['option'][field]['display'] is defined %} {{ quickcheckout['option']['register']['cart']['option'][field]['display'] }} {% else %} 0 {% endif%}" name="{{ 'quickcheckout[option][guest][cart][option][' ~ field ~ '][display]' }}" {% if quickcheckout['option']['register']['cart']['option'][field]['display'] is defined and quickcheckout['option']['register']['cart']['option'][field]['display'] == 1 %} checked="checked" {% endif %}/>
                      <label for="option_register_cart_option_{{ field }}_display">{{ settings_display }}</label>
                    </td>

                      <td>
                        <input class="styled" type="checkbox" value="{% if quickcheckout['option']['logged']['cart']['option'][field]['display'] is defined %} {{ quickcheckout['option']['logged']['cart']['option'][field]['display'] }} {% else %} 0 {% endif%}" name="{{ 'quickcheckout[option][logged][cart][option][' ~ field ~ '][display]' }}" {% if quickcheckout['option']['logged']['cart']['option'][field]['display'] is defined and quickcheckout['option']['logged']['cart']['option'][field]['display'] == 1 %} checked="checked" {% endif %}/>
                        <label for="option_logged_cart_option_{{ field }}_display">{{ settings_display }}</label>
                    </td>
                  </tr>
                      {% endfor %}
                  </tbody>
                 </table>
                 <h3><i class="icon-confirm"></i>{{ text_confirm }}</h3>
                 <table class="table table-hover">
                <th></th>
                    <th class="guest">{{ text_guest_customer }}</th>
                    <th class="register">{{ text_registrating_customer }}</th>
                    <th class="login">{{ text_logged_in_customer }}</th>
                    <th></th>
                <tbody>
                <tbody class="sortable ui-sortable">

                {% for field in quickcheckout['step']['confirm']['fields'] %}

                <tr id="confirm_{{ field['id'] }}_input" class="sort-item {{ field['type'] == 'system'? 'hide' }}" sort-data="{{ quickcheckout['step']['confirm']['fields'][field['id']]['sort_order'] is defined ? quickcheckout['step']['confirm']['fields'][field['id']]['sort_order'] }}">
                    <td class="name"><span>{{ field['title'] }}
                      <input class="sort" type="text" value="{{ quickcheckout['step']['confirm']['fields'][field['id']]['sort_order'] ? quickcheckout['step']['confirm']['fields'][field['id']]['sort_order'] }}" name="{{ 'quickcheckout[step][confirm][fields][' ~ field['id'] ~ '][sort_order]' }}" />
                      </span>
                    </td>
                    <td >
                    {% if quickcheckout['option']['guest']['confirm']['fields'][field['id']]['display'] is defined %}

                      <input class="styled" type="checkbox" value="{{ quickcheckout['option']['guest']['confirm']['fields'][field['id']]['display'] }}" name="{{ 'quickcheckout[option][guest][confirm][fields][' ~ field['id'] ~ '][display]' }}" {% if quickcheckout['option']['guest']['confirm']['fields'][field['id']]['display'] is defined and quickcheckout['option']['guest']['confirm']['fields'][field['id']]['display'] == 1 %} checked="checked" {% endif %}/>
                      <label for="guest_confirm_fields_{{ field['id'] }}_display">{{ settings_display }}</label>&nbsp;&nbsp;&nbsp;

                      {% if quickcheckout['option']['guest']['confirm']['fields'][field['id']]['require'] is defined %}
                      <input class="styled" type="checkbox" value="{{ quickcheckout['option']['guest']['confirm']['fields'][field['id']]['require'] }}" name="{{ 'quickcheckout[option][guest][confirm][fields][' ~ field['id'] ~ '][require]' }}" {% if quickcheckout['option']['guest']['confirm']['fields'][field['id']]['require'] == 1 %} checked="checked" {% endif %} id="guest_confirm_fields_{{ field['id'] }}_require"/>
                      <label for="guest_confirm_fields_{{ field['id'] }}_require">{{ settings_require }}</label>&nbsp;&nbsp;&nbsp;
                      {% endif %}
                    {% endif %}
                    </td>
                    <td >
                      {% if quickcheckout['option']['register']['confirm']['fields'][field['id']]['display'] is defined %}

                      <input class="styled" type="checkbox" value="{{ quickcheckout['option']['register']['confirm']['fields'][field['id']]['display'] }}" name="{{ 'quickcheckout[option][register][confirm][fields][' ~ field['id'] ~ '][display]' }}" {% if quickcheckout['option']['register']['confirm']['fields'][field['id']]['display'] == 1 %} checked="checked" {% endif %}/>
                      <label for="register_confirm_fields_{{ field['id'] }}_display">{{ settings_display }}</label>&nbsp;&nbsp;&nbsp;

                      {% if quickcheckout['option']['register']['confirm']['fields'][field['id']]['require'] is defined %}
                        <input class="styled" type="checkbox" value="{{ quickcheckout['option']['register']['confirm']['fields'][field['id']]['require'] }}" name="{{ 'quickcheckout[option][register][confirm][fields][' ~ field['id'] ~ '][require]' }}" {% if quickcheckout['option']['register']['confirm']['fields'][field['id']]['require'] == 1 %} checked="checked" {% endif %}/>
                        <label for="register_confirm_fields_{{ field['id'] }}_require">{{ settings_require }}</label>&nbsp;&nbsp;&nbsp;
                     {% endif %}
                  {% endif %}
                  </td>
                  <td >
                     {% if quickcheckout['option']['logged']['confirm']['fields'][field['id']]['display'] is defined %}

                        <input class="styled" type="checkbox" value="{{ quickcheckout['option']['logged']['confirm']['fields'][field['id']]['display'] }}" name="{{ 'quickcheckout[option][logged][confirm][fields][' ~ field['id'] ~ '][display]' }}" {% if quickcheckout['option']['logged']['confirm']['fields'][field['id']]['display'] == 1 %} checked="checked" {% endif %}/>
                        <label for="logged_confirm_fields_{{ field['id'] }}_display">{{ settings_display }}</label>&nbsp;&nbsp;&nbsp;


                      {% if quickcheckout['option']['logged']['confirm']['fields'][field['id']]['require'] is defined %}


                        <input class="styled" type="checkbox" value="{{ quickcheckout['option']['logged']['confirm']['fields'][field['id']]['require'] }}" name="{{ 'quickcheckout[option][logged][confirm][fields][' ~ field['id'] ~ '][require]' }}" {% if quickcheckout['option']['logged']['confirm']['fields'][field['id']]['require'] == 1 %} checked="checked" {% endif %}/>
                        <label for="logged_confirm_fields_{{ field['id'] }}_require">{{ settings_require }}</label>&nbsp;&nbsp;&nbsp;
                    {% endif %}
                  {% endif %}
                  </td>
                  <td>
                      <!-- Sort -->
                      <div class="text-right">
                          <span class="icon-three-bars sort-item"></span>
                      </div>
                      <!-- /Sort -->
                    </td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

</form>

{% include "includes/buttons_bottom.expand" %}

<?php $main_width = 100/576;
$column_1 =  $quickcheckout['general']['column_width'][1]/$main_width;
$column_2 = $quickcheckout['general']['column_width'][2]/$main_width;
$column_3 = $quickcheckout['general']['column_width'][3]/$main_width;
$column_4 = $quickcheckout['general']['column_width'][4]/$main_width; ?>
<style>
.full-width{
  width:100%}
  .column-1, .column-data-1{width:<?php echo $column_1; ?>px;}
 .column-2, .column-data-2{
   width:<?php echo $column_2; ?>px;}
 .column-3, .column-data-3{width:<?php echo $column_3; ?>px;}
 .column-4, .column-data-4{width:<?php echo $column_4; ?>px;}
 #column_group_2{width:<?php echo $column_4; ?>px;}

</style>
<script type="text/javascript">
//var editor = CodeMirror.fromTextArea(document.getElementById("general_checkout_style"), {});

  function resizeMenu(){
  /*  $("#tabs_menu").css({minHeight:($('.content').height())});
    console.log($('.content').height());*/
  }
  $(document).ready(function(){

    var hash = window.location.hash;
    var hash_tab = hash.split('#')[1];
    $("#tab_"+hash_tab).trigger( "click" );

    resizeMenu();

    $("#discount-amount").TouchSpin({
        postfix: '%',
        min: 0,
        max: 100,
        initval: 0,
        decimals: 2,
        maxboostedstep: 10,
        step: 0.01
    });

    $('#sortable_social_login').sortable({
          placeholder: "ui-state-highlight",
          helper:'clone',
          stop: function( event, ui ) {
            $(this).find("div.ui-sortable").each(function(i, el){
              $(this).find(".sort-value").val($(el).index() + 1)
            });
          }
      });
  })

  // $('#tabs_menu a').tabs();
  // $('#tabs_menu a').click(function(){
  //   resizeMenu();
  // })
  // $('.tile a').click(function(){
  //   $('#tabs_menu a[href='+$(this).attr('href')+']').trigger('click')
  //   resizeMenu();
  //   return false
  // })

  $('.active a').click(function(){
    $('.active .activeClass').removeClass('activeClass');
    $(this).addClass('activeClass');
  });

      $(function(){
        $("input:checkbox.styled, input:radio.styled").uniform();
      });

$(function() {
  $('#checkout_select_all').click(function(){
    $('input:checkbox').attr('checked', 'checked')
    $.uniform.update();
  })

  $('#checkout_unselect_all').click(function(){
    $('input:checkbox').removeAttr('checked')
    $.uniform.update();
  })

  $('.sortable > tr').tsort({attr:'sort-data'});
  $( ".sortable" ).sortable({
    revert: true,
    cursor: "move",
    items: "> .sort-item",
    containment: "document",
     distance: 5 ,
    opacity: 0.8,
    stop: function( event, ui ) {
      $(this).find("tr").each(function(i, el){
        $(this).find(".sort").val($(el).index())
        //alert($('[name="'+$(this).find(".sort").attr('name')+'"]').val())
      });
    }
  });
  // var main_width = 100 / 576;

  // $( "#slider" ).slider({
  //     range: true,
  //           min: 0,
  //           max: 576,
  //     step: 5.76,
  //           values: [ <?php echo $column_1; ?>,  <?php echo ($column_1 + $column_2); ?>],
  //     slide: function( event, ui ) {
  //       $('.column-data-1').val(Math.round(main_width*(ui.values[ 0 ])))
  //               .attr('width-data', ui.values[ 0 ])
  //               .attr('left-data', 0)
  //               .css({'width' : parseInt( ui.values[ 0 ] ) + 'px'})
  //       $('.column-data-2').val(Math.round(main_width*(ui.values[ 1 ] - ui.values[ 0 ])))
  //               .attr('width-data',ui.values[ 1 ] - ui.values[ 0 ])
  //               .attr('left-data', parseInt(ui.values[ 0 ]+10))
  //               .css({'width' : parseInt( ui.values[ 1 ] - ui.values[ 0 ]) + 'px'})
  //       $('.column-data-3').val(Math.round(main_width*(576 - ui.values[ 1 ])))
  //               .attr('width-data',576 - ui.values[ 1 ])
  //               .attr('left-data', parseInt(ui.values[ 1 ]))
  //               .css({'width' : parseInt( 576 - ui.values[ 1 ]) + 'px'})
  //       $('.column-data-4').val(Math.round(main_width*(576 - ui.values[ 0 ])))
  //               .attr('width-data',576 - ui.values[ 0 ])
  //       $('.column-1').css({'width' :  parseInt( ui.values[ 0 ]) +'px' })
  //       $('.column-2').css({'width' : parseInt( ui.values[ 1 ] - ui.values[ 0 ])+'px'})
  //       $('.column-3').css({'width' :  parseInt(576 - ui.values[ 1 ]) +'px'})
  //       $('.column-4').css({'width' :  parseInt(576 - ui.values[ 0 ]) +'px'})
  //       $('#column_group_2').css({'width' :  parseInt(576 - ui.values[ 0 ]) +'px'})
  //       $(".ui-slider-handle").attr('href', '#designcheckout')
  //     }
  //   });
  $( ".column" ).sortable({
      connectWith: ".column",
      scroll: false,
      stop: function( event, ui ) {
      $('.column').find("li").each(function(i, el){

        $(this).find(".row-data").val($(el).index())
        $(this).find(".col-data").val($(this).parent().attr('col-data'))

      });
      }
  });

  $( ".column" ).disableSelection();
  $('.column > li').tsort({attr:'row-data'});
  $('.column > li').each(function(){
        $(this).appendTo('.column-' + $(this).attr('col-data'));
                  })
  $(".sort-item  td:last-child").append('<i class="icon-drag"></i>')


  $('#general_checkout_style').autosize();
  $('#checkout_settings').val(decodeURIComponent(($('#form').serialize())))

  $(document).on('click', '#checkout_settings_checkbox', function(){
    if($(this).attr('checked')) {
      $('#checkout_settings').fadeIn()
      $('#checkout_settings').select()
      }else{
      $('#checkout_settings').fadeOut()

      }
    })
   $('#checkout_settings').click(function(){
     $(this).select()
     })
});

/*function image_upload(field, thumb) {
$.startImageManager(field, thumb);
};*/


// var module_row = <?php echo $module_row; ?>;

// function addModule() {
//   html  = '<tbody id="module-row' + module_row + '">';
//   html += '  <tr>';
//   html += '    <td class="left"><select name="quickcheckout_module[' + module_row + '][layout_id]">';
//   <?php foreach ($layouts as $layout) { ?>
//   html += '      <option value="<?php echo $layout['layout_id']; ?>"><?php echo addslashes($layout['name']); ?></option>';
//   <?php } ?>
//   html += '    </select></td>';
//   html += '    <td class="left"><select name="quickcheckout_module[' + module_row + '][position]">';
//   html += '      <option value="content_top"><?php echo $text_content_top; ?></option>';
//   html += '      <option value="content_bottom"><?php echo $text_content_bottom; ?></option>';
//   html += '      <option value="column_left"><?php echo $text_column_left; ?></option>';
//   html += '      <option value="column_right"><?php echo $text_column_right; ?></option>';
//   html += '    </select></td>';
//   html += '    <td class="left"><select name="quickcheckout_module[' + module_row + '][status]">';
//     html += '      <option value="1" selected="selected"><?php echo $text_enabled; ?></option>';
//     html += '      <option value="0"><?php echo $text_disabled; ?></option>';
//     html += '    </select></td>';
//   html += '    <td class="left"><input type="text" name="quickcheckout_module[' + module_row + '][sort_order]" value="" size="3" /></td>';
//   html += '    <td class="left"><a onclick="$(\'#module-row' + module_row + '\').remove();" class="button btn btn-primary"><?php echo $button_remove; ?></a></td>';
//   html += '  </tr>';
//   html += '</tbody>';

//   $('#module tfoot').before(html);

//   module_row++;
// }

function saveAndStay(){
  $('#general_checkout_style').val(editor.getValue())
    $.ajax( {
      type: "POST",
      url: $('#form').attr( 'action' ) + '&save',
      data: $('#form').serialize(),
    beforeSend: function() {
    $('#form').fadeTo('slow', 0.5);
    },
    complete: function() {
    $('#form').fadeTo('slow', 1);
    },
      success: function( response ) {
        console.log( response );
      }
    } );
}
$('#version_check').click(function(){
  $.ajax( {
      type: "POST",
      url: 'index.php?route=module/quickcheckout/version_check&token=<?php echo $token; ?>',
    dataType: 'json',
    beforeSend: function() {
    $('#form').fadeTo('slow', 0.5);
    },
    complete: function() {
    $('#form').fadeTo('slow', 1);
    },
      success: function( json ) {
        console.log( json );
    if(json['error']){
      $('#version_result').html('<div class="warning">' + json['error'] + '</div>')
    }
    if(json['attention']){
      $html = '';
      if(json['update']){
         $.each(json['update'] , function(k, v) {
            $html += '<div>Version: ' +k+ '</div><div>'+ v +'</div>';
         });
      }
       $('#version_result').html('<div class="attention">' + json['attention'] + $html + '</div>')
    }
    if(json['success']){
      $('#version_result').html('<div class="success">' + json['success'] + '</div>')
    }
      }
  })
})

$(document).ajaxStart(function(){
    $(".wait").show();
})
$(document).ajaxStop(function(){
    $(".wait").hide();
});

function changeStatus(checkbox)
{
    var self = $(checkbox);
    var switch_status = self.siblings('.switchery-status');

    if ( self.is(':checked') )
    {
        switch_status.html("{{ text_enabled }}");
    }
    else
    {
        switch_status.html("{{ text_disabled }}");
    }
}

//--></script>
<div class="wait"><span></span></div>
<!-- Vtabs-->
{% endblock %}
