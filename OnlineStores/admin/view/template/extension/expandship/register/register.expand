{% extends "base.expand" %}
{% import "controls/forms.expand" as forms %}
{% from "controls/breadcrumb.expand" import breadcrumb as breadcrumb %}

{% block title %}
    {{ lang('heading_title_expandship', 'extension/expandship') }}
{% endblock title %}

{% block breadcrumb %}
    {{ breadcrumb(breadcrumbs) }}
{% endblock breadcrumb %}

{% block secondarymenu %}
{% endblock secondarymenu %}

{% block content %}

    <style>
        .content-wrapper {
            background-color: #f8f9ff;
        }

        .page-header-default {
            background-color: transparent;
        }

        .page-header-content + .breadcrumb-line {
            border: 0;
        }

        .end-side-holder.tab-content .tab-pane {
            display: none;
        }

        .end-side-holder.tab-content .tab-pane.active {
            display: block;
        }

        #Documents .help-block {
            word-break: break-word;
        }
    </style>


    <div class="alert alert-danger" style="display: none;" id="errors-fallback"></div>

    <div class="alert alert-danger" style="display: none;" id="errors-fallback"></div>

    <!-- stars expandShip activation tabs -->


    <div class="panel panel-white two-side-holder expandsteps-sticky">
        {% include "extension/expandship/register/parts/sidebar.expand" %}
        <div class="tab-content end-side-holder">

            {% include "extension/expandship/register/parts/brief.expand" %}
            {% include "extension/expandship/register/parts/terms.expand" %}

            <form id='createAccountForm' action="{{ link('extension/expandship/register') }}">

                {% include "extension/expandship/register/parts/countries.expand" %}
                {% include "extension/expandship/register/parts/business_type.expand" %}
                {% include "extension/expandship/register/parts/account_inputs.expand" %}

            </form>
            <div class="tab-pane" id="Verfication">
                <div class="item-verfication-holder verfication-done">
                    <!-- replace this class  verfication-done & verfication-error & verfication-pending-->
                    <div class="item-verfication item-verfication-pending">
                        <svg style="margin: auto;" xmlns="http://www.w3.org/2000/svg" width="98.801" height="98.862"
                             viewBox="0 0 98.801 98.862">
                            <g id="Group_7339" data-name="Group 7339" transform="translate(-746 -314.139)">
                                <g id="wall-clock" transform="translate(745.843 314.139)">
                                    <g id="Group_7324" data-name="Group 7324" transform="translate(16.605 16.478)">
                                        <path id="Path_12072" data-name="Path 12072"
                                              d="M118.293,85.34h0A32.953,32.953,0,0,0,85.34,118.293h0a32.953,32.953,0,0,0,32.953,32.953h0a32.953,32.953,0,0,0,32.953-32.953h0A32.954,32.954,0,0,0,118.293,85.34Zm0,36.249a3.294,3.294,0,0,1-3.3-3.3h0a3.294,3.294,0,0,1,3.3-3.3h0a3.3,3.3,0,0,1,0,6.591Z"
                                              transform="translate(-85.34 -85.34)" fill="rgba(255,223,168,0.66)"/>
                                        <circle id="Ellipse_1135" data-name="Ellipse 1135" cx="3.295" cy="3.295"
                                                r="3.295" transform="translate(29.656 29.656)" fill="#ffdfa8"/>
                                    </g>
                                    <path id="Path_12073" data-name="Path 12073"
                                          d="M1.748,49.409h.058a1.648,1.648,0,0,0,1.648-1.592A46.137,46.137,0,0,1,78.1,13.183H69.332a1.648,1.648,0,0,0,0,3.3h13.2a1.658,1.658,0,0,0,.379-.076,1.607,1.607,0,0,0,.249-.054c.046-.02.081-.061.125-.086a1.588,1.588,0,0,0,.4-.282l.016-.012a1.854,1.854,0,0,0,.114-.18,1.656,1.656,0,0,0,.216-.344,1.574,1.574,0,0,0,.082-.407,1.247,1.247,0,0,0,.041-.208V1.649a1.648,1.648,0,1,0-3.3,0v9.543A49.419,49.419,0,0,0,.158,47.707,1.648,1.648,0,0,0,1.748,49.409Z"
                                          transform="translate(0 0)" fill="#155ebc"/>
                                    <g id="Group_7325" data-name="Group 7325" transform="translate(0.394 49.507)">
                                        <path id="Path_12074" data-name="Path 12074"
                                              d="M106.722,449.268a46.921,46.921,0,0,1-3.977-2.636,1.647,1.647,0,0,0-2.04,2.587c.026.021.054.041.082.061a49.882,49.882,0,0,0,4.256,2.826,1.648,1.648,0,1,0,1.679-2.837Z"
                                              transform="translate(-81.021 -409.613)" fill="#155ebc"/>
                                        <path id="Path_12075" data-name="Path 12075"
                                              d="M65.422,412.475a1.651,1.651,0,1,0-2.472,2.19h0a49.866,49.866,0,0,0,3.59,3.638,1.648,1.648,0,0,0,2.223-2.432A46.052,46.052,0,0,1,65.422,412.475Z"
                                              transform="translate(-50.729 -381.889)" fill="#155ebc"/>
                                        <path id="Path_12076" data-name="Path 12076"
                                              d="M38.363,375.332a46.728,46.728,0,0,1-2.584-4.009,1.65,1.65,0,1,0-2.859,1.648,49.9,49.9,0,0,0,2.768,4.286,1.648,1.648,0,0,0,2.674-1.925Z"
                                              transform="translate(-26.654 -348.465)" fill="#155ebc"/>
                                        <path id="Path_12077" data-name="Path 12077"
                                              d="M150.857,474.286a45.972,45.972,0,0,1-4.431-1.761,1.648,1.648,0,1,0-1.463,2.953l.086.04a48.748,48.748,0,0,0,4.752,1.892,1.648,1.648,0,1,0,1.056-3.122Z"
                                              transform="translate(-116.501 -430.654)" fill="#155ebc"/>
                                        <path id="Path_12078" data-name="Path 12078"
                                              d="M16.818,329.094a46.273,46.273,0,0,1-1.705-4.449,1.648,1.648,0,0,0-3.18.867,1.25,1.25,0,0,0,.049.152,49.484,49.484,0,0,0,1.826,4.778,1.648,1.648,0,1,0,3.014-1.335Z"
                                              transform="translate(-9.849 -310.486)" fill="#155ebc"/>
                                        <path id="Path_12079" data-name="Path 12079"
                                              d="M4.15,281.952A1.647,1.647,0,0,0,5.418,280a46.894,46.894,0,0,1-.745-4.711,1.649,1.649,0,0,0-3.279.348,49.742,49.742,0,0,0,.8,5.045,1.647,1.647,0,0,0,1.954,1.27Z"
                                              transform="translate(-1.385 -270.451)" fill="#155ebc"/>
                                        <path id="Path_12080" data-name="Path 12080"
                                              d="M494.691,256.4a1.623,1.623,0,0,0-1.7,1.539.47.47,0,0,0,0,.049,46.316,46.316,0,0,1-.414,4.752,1.648,1.648,0,0,0,1.4,1.857,1.53,1.53,0,0,0,.231.016,1.648,1.648,0,0,0,1.629-1.42,50.038,50.038,0,0,0,.443-5.09A1.648,1.648,0,0,0,494.691,256.4Z"
                                              transform="translate(-397.717 -256.394)" fill="#155ebc"/>
                                        <path id="Path_12081" data-name="Path 12081"
                                              d="M462.857,355.232a1.647,1.647,0,0,0-2.2.766,45.96,45.96,0,0,1-2.3,4.18,1.648,1.648,0,0,0,2.8,1.735,49.223,49.223,0,0,0,2.46-4.48,1.647,1.647,0,0,0-.764-2.2Z"
                                              transform="translate(-369.936 -336.015)" fill="#155ebc"/>
                                        <path id="Path_12082" data-name="Path 12082"
                                              d="M430.393,399.107a46.126,46.126,0,0,1-3.106,3.625,1.649,1.649,0,1,0,2.389,2.274h0a50.015,50.015,0,0,0,3.325-3.88,1.647,1.647,0,1,0-2.579-2.051l-.03.038Z"
                                              transform="translate(-344.683 -371.022)" fill="#155ebc"/>
                                        <path id="Path_12083" data-name="Path 12083"
                                              d="M199.381,489.681a46.374,46.374,0,0,1-4.7-.807,1.648,1.648,0,0,0-.727,3.215h0a49.151,49.151,0,0,0,5.037.865,1.58,1.58,0,0,0,.2.012,1.648,1.648,0,0,0,.191-3.284Z"
                                              transform="translate(-155.735 -443.951)" fill="#155ebc"/>
                                        <path id="Path_12084" data-name="Path 12084"
                                              d="M392.495,435.949a47.025,47.025,0,0,1-3.79,2.913,1.652,1.652,0,0,0,1.878,2.719,50.407,50.407,0,0,0,4.053-3.131,1.648,1.648,0,0,0-2.142-2.5v0Z"
                                              transform="translate(-313.343 -400.957)" fill="#155ebc"/>
                                        <path id="Path_12085" data-name="Path 12085"
                                              d="M483.822,307.042a1.647,1.647,0,0,0-2,1.2,46.541,46.541,0,0,1-1.382,4.566,1.648,1.648,0,0,0,3.1,1.117,49.608,49.608,0,0,0,1.483-4.89,1.648,1.648,0,0,0-1.2-2S483.823,307.042,483.822,307.042Z"
                                              transform="translate(-387.864 -297.223)" fill="#155ebc"/>
                                        <path id="Path_12086" data-name="Path 12086"
                                              d="M300.283,484.515a46.092,46.092,0,0,1-4.63,1.137,1.648,1.648,0,0,0,.62,3.238,48.883,48.883,0,0,0,4.963-1.221,1.648,1.648,0,0,0-.953-3.154Z"
                                              transform="translate(-237.755 -440.419)" fill="#155ebc"/>
                                        <path id="Path_12087" data-name="Path 12087"
                                              d="M249.852,494.006c-1.318.112-2.668.165-4.012.165h-.753a1.706,1.706,0,0,0-1.679,1.618,1.648,1.648,0,0,0,1.618,1.677h.814c1.44,0,2.883-.064,4.284-.185a1.648,1.648,0,1,0-.189-3.29l-.091.008Z"
                                              transform="translate(-196.676 -448.111)" fill="#155ebc"/>
                                        <path id="Path_12088" data-name="Path 12088"
                                              d="M348.448,464.81a46.6,46.6,0,0,1-4.294,2.073,1.648,1.648,0,0,0,1.239,3.055l.036-.015a49.65,49.65,0,0,0,4.6-2.221,1.648,1.648,0,0,0-1.582-2.892Z"
                                              transform="translate(-277.139 -424.404)" fill="#155ebc"/>
                                    </g>
                                    <g id="Group_7326" data-name="Group 7326" transform="translate(14.958 14.831)">
                                        <path id="Path_12089" data-name="Path 12089"
                                              d="M111.408,76.807a34.6,34.6,0,1,0,34.6,34.6A34.6,34.6,0,0,0,111.408,76.807Zm1.648,65.823v-4.859a1.648,1.648,0,1,0-3.3,0v4.859a31.292,31.292,0,0,1-29.574-29.574h4.859a1.648,1.648,0,0,0,0-3.3H80.186A31.292,31.292,0,0,1,109.76,80.186v4.859a1.648,1.648,0,1,0,3.3,0V80.186a31.292,31.292,0,0,1,29.574,29.574H137.77a1.648,1.648,0,0,0,0,3.3h4.859A31.292,31.292,0,0,1,113.056,142.63Z"
                                              transform="translate(-76.807 -76.807)" fill="#ff7d00"/>
                                        <path id="Path_12090" data-name="Path 12090"
                                              d="M195.682,161.852V146.72a1.648,1.648,0,0,0-3.3,0v15.132a4.946,4.946,0,0,0-2.992,2.992h-8.542a1.648,1.648,0,0,0,0,3.3H189.4a4.931,4.931,0,1,0,6.287-6.287Zm-1.648,6.288a1.648,1.648,0,1,1,1.648-1.648A1.648,1.648,0,0,1,194.035,168.139Z"
                                              transform="translate(-159.434 -131.891)" fill="#ff7d00"/>
                                    </g>
                                </g>
                            </g>
                        </svg>
                        <p class="title">
                            {{ lang('verification_pending_title') }}
                        </p>
                        <p class="dec">
                            {{ lang('verification_pending_dec') }}
                        </p>
                    </div>

                    <div class="item-verfication item-verfication-done">
                        <svg style="margin: auto;" xmlns="http://www.w3.org/2000/svg" width="100.298" height="116.465"
                             viewBox="0 0 100.298 116.465">
                            <g id="fireworks" transform="translate(-0.5)">
                                <path id="Path_12093" data-name="Path 12093"
                                      d="M96.212,477.613a1.682,1.682,0,0,1-1.206-2.853l2.09-2.153a1.682,1.682,0,0,1,2.413,2.342L97.418,477.1a1.674,1.674,0,0,1-1.207.511Zm0,0"
                                      transform="translate(-72.641 -364.708)" fill="#ff4e61"/>
                                <path id="Path_12094" data-name="Path 12094"
                                      d="M195.94,114.527a1.682,1.682,0,0,1-1.206-2.852l2.091-2.154a1.681,1.681,0,1,1,2.412,2.342l-2.091,2.154A1.677,1.677,0,0,1,195.94,114.527Zm0,0"
                                      transform="translate(-149.685 -84.214)" fill="#ff4e61"/>
                                <path id="Path_12095" data-name="Path 12095"
                                      d="M408.094,81.658a1.681,1.681,0,0,1-1.207-2.852l2.091-2.154a1.682,1.682,0,0,1,2.413,2.342L409.3,81.148A1.677,1.677,0,0,1,408.094,81.658Zm0,0"
                                      transform="translate(-313.579 -58.822)" fill="#5c73bc"/>
                                <path id="Path_12096" data-name="Path 12096"
                                      d="M408.094,445.039a1.681,1.681,0,0,1-1.207-2.852l2.091-2.154a1.682,1.682,0,0,1,2.413,2.342l-2.091,2.154A1.677,1.677,0,0,1,408.094,445.039Zm0,0"
                                      transform="translate(-313.579 -339.544)" fill="#fa0"/>
                                <path id="Path_12097" data-name="Path 12097"
                                      d="M57.362,94.177a1.681,1.681,0,0,1-1.206-2.852l2.091-2.154a1.681,1.681,0,0,1,2.412,2.342l-2.091,2.154a1.677,1.677,0,0,1-1.207.51Zm0,0"
                                      transform="translate(-42.629 -68.494)" fill="#fa0"/>
                                <path id="Path_12098" data-name="Path 12098"
                                      d="M6.6,260.089a1.681,1.681,0,0,1-1.206-2.852l2.09-2.154A1.682,1.682,0,0,1,9.9,257.425l-2.091,2.154a1.675,1.675,0,0,1-1.207.51Zm0,0"
                                      transform="translate(-3.414 -196.664)" fill="#2dc471"/>
                                <path id="Path_12099" data-name="Path 12099"
                                      d="M172.919,197.695l-5.458,2.956a1.942,1.942,0,0,1-2.8-2.1l1.042-6.261a2.024,2.024,0,0,0-.554-1.759l-4.416-4.435a2,2,0,0,1,1.07-3.391l6.1-.913a1.932,1.932,0,0,0,1.453-1.088l2.73-5.7a1.906,1.906,0,0,1,3.461,0l2.729,5.7a1.935,1.935,0,0,0,1.453,1.088l6.1.913A2,2,0,0,1,186.9,186.1l-4.415,4.435a2.024,2.024,0,0,0-.555,1.759l1.042,6.261a1.942,1.942,0,0,1-2.8,2.1l-5.458-2.956a1.878,1.878,0,0,0-1.8,0Zm0,0"
                                      transform="translate(-123.332 -134.346)" fill="#ffd02f"/>
                                <path id="Path_12100" data-name="Path 12100"
                                      d="M214.529,411.278a1.681,1.681,0,0,1-1.681-1.681V383.3a1.681,1.681,0,1,1,3.362,0V409.6A1.681,1.681,0,0,1,214.529,411.278Zm0,0"
                                      transform="translate(-164.044 -294.813)" fill="#5c73bc"/>
                                <path id="Path_12101" data-name="Path 12101"
                                      d="M214.5,346h-.026a1.682,1.682,0,1,1,0-3.363h.026a1.682,1.682,0,0,1,0,3.363Zm0,0"
                                      transform="translate(-163.999 -264.697)" fill="#5c73bc"/>
                                <path id="Path_12102" data-name="Path 12102"
                                      d="M214.5,320.577h-.034a1.681,1.681,0,0,1,.007-3.362h.034a1.681,1.681,0,0,1-.007,3.362Zm0,0"
                                      transform="translate(-163.999 -245.058)" fill="#fa0"/>
                                <path id="Path_12103" data-name="Path 12103"
                                      d="M20.23,156.332a1.677,1.677,0,0,1-1.207-.51L.976,137.229a1.681,1.681,0,0,1,2.412-2.342L21.436,153.48a1.682,1.682,0,0,1-1.207,2.852Zm0,0"
                                      transform="translate(0 -103.81)" fill="#ff4e61"/>
                                <path id="Path_12104" data-name="Path 12104"
                                      d="M108.242,247.019a1.682,1.682,0,0,1-1.2-2.857l.019-.019a1.681,1.681,0,0,1,2.405,2.35l-.018.019A1.679,1.679,0,0,1,108.242,247.019Zm0,0"
                                      transform="translate(-81.935 -188.217)" fill="#fa0"/>
                                <path id="Path_12105" data-name="Path 12105"
                                      d="M125.694,264.995a1.681,1.681,0,0,1-1.206-2.852l.018-.02a1.682,1.682,0,0,1,2.413,2.343l-.019.019a1.677,1.677,0,0,1-1.207.51Zm0,0"
                                      transform="translate(-95.417 -202.104)" fill="#5c73bc"/>
                                <path id="Path_12106" data-name="Path 12106"
                                      d="M347.534,153.425a1.681,1.681,0,0,1-1.206-2.852l18.047-18.592a1.682,1.682,0,0,1,2.413,2.342l-18.048,18.592a1.677,1.677,0,0,1-1.207.51Zm0,0"
                                      transform="translate(-266.795 -101.565)" fill="#fa0"/>
                                <path id="Path_12107" data-name="Path 12107"
                                      d="M320.751,244.117a1.674,1.674,0,0,1-1.2-.5l-.019-.019a1.681,1.681,0,1,1,2.4-2.357l.019.019a1.682,1.682,0,0,1-1.2,2.86Zm0,0"
                                      transform="translate(-246.09 -185.975)" fill="#ff4e61"/>
                                <path id="Path_12108" data-name="Path 12108"
                                      d="M303.3,262.094a1.677,1.677,0,0,1-1.207-.51l-.019-.019a1.682,1.682,0,0,1,2.413-2.343l.019.019a1.682,1.682,0,0,1-1.207,2.853Zm0,0"
                                      transform="translate(-232.609 -199.863)" fill="#fa0"/>
                                <path id="Path_12109" data-name="Path 12109"
                                      d="M294.948,28.287a1.682,1.682,0,0,1-1.458-2.515L306.425,3.1a1.681,1.681,0,0,1,2.921,1.667L296.411,27.44a1.682,1.682,0,0,1-1.463.848Zm0,0"
                                      transform="translate(-226.172 -1.744)" fill="#62d38f"/>
                                <path id="Path_12110" data-name="Path 12110"
                                      d="M275.742,138.862a1.675,1.675,0,0,1-.862-.238l-.022-.013a1.682,1.682,0,0,1,1.726-2.886l.022.013a1.681,1.681,0,0,1-.865,3.124Zm0,0"
                                      transform="translate(-211.317 -104.667)" fill="#fa0"/>
                                <path id="Path_12111" data-name="Path 12111"
                                      d="M263.235,160.779a1.673,1.673,0,0,1-.866-.242l-.022-.013a1.681,1.681,0,1,1,1.736-2.88l.022.013a1.682,1.682,0,0,1-.87,3.121Zm0,0"
                                      transform="translate(-201.655 -121.598)" fill="#2dc471"/>
                                <path id="Path_12112" data-name="Path 12112"
                                      d="M90.318,28.287a1.681,1.681,0,0,1-1.463-.849L75.92,4.771A1.681,1.681,0,0,1,78.841,3.1L91.776,25.771a1.682,1.682,0,0,1-1.458,2.515Zm0,0"
                                      transform="translate(-58.093 -1.743)" fill="#5c73bc"/>
                                <path id="Path_12113" data-name="Path 12113"
                                      d="M153.377,138.862a1.681,1.681,0,0,1-.868-3.122l.023-.013a1.681,1.681,0,0,1,1.732,2.882l-.022.013A1.675,1.675,0,0,1,153.377,138.862Zm0,0"
                                      transform="translate(-116.802 -104.667)" fill="#ff4e61"/>
                                <path id="Path_12114" data-name="Path 12114"
                                      d="M165.885,160.779a1.682,1.682,0,0,1-.873-3.12l.022-.013a1.682,1.682,0,1,1,1.743,2.876l-.022.013A1.673,1.673,0,0,1,165.885,160.779Zm0,0"
                                      transform="translate(-126.464 -121.598)" fill="#fa0"/>
                                <path id="Path_12115" data-name="Path 12115"
                                      d="M367.386,300.338l-3.531,2.639a1.364,1.364,0,0,1-2.166-1.175l.115-4.493a1.423,1.423,0,0,0-.562-1.175l-3.528-2.643a1.423,1.423,0,0,1,.415-2.486l4.183-1.276a1.386,1.386,0,0,0,.91-.913l1.351-4.273a1.349,1.349,0,0,1,2.423-.362l2.471,3.7a1.355,1.355,0,0,0,1.124.61l4.363,0a1.41,1.41,0,0,1,1.082,2.263l-2.656,3.565a1.441,1.441,0,0,0-.216,1.29l1.346,4.276a1.385,1.385,0,0,1-1.755,1.759l-4.112-1.5a1.332,1.332,0,0,0-1.257.188Zm0,0"
                                      transform="translate(-275.523 -219.067)" fill="#ffd02f"/>
                                <path id="Path_12116" data-name="Path 12116"
                                      d="M255.8,386.877a1.681,1.681,0,0,1-1.681-1.681,40.552,40.552,0,0,1,9.55-26.911,34.976,34.976,0,0,1,9.665-8.068,1.682,1.682,0,0,1,1.522,3,32.335,32.335,0,0,0-8.727,7.369c-5.738,6.76-8.647,15.041-8.647,24.611a1.681,1.681,0,0,1-1.681,1.681Zm0,0"
                                      transform="translate(-195.927 -270.412)" fill="#ff4e61"/>
                                <path id="Path_12117" data-name="Path 12117"
                                      d="M79.223,343.952,81.9,347.5A1.351,1.351,0,0,0,84.3,347l1.106-4.348a1.392,1.392,0,0,1,.857-.966l4.1-1.526a1.424,1.424,0,0,0,.275-2.506l-3.672-2.428a1.421,1.421,0,0,1-.627-1.138l-.14-4.493a1.36,1.36,0,0,0-2.229-1.043L80.6,331.4a1.335,1.335,0,0,1-1.245.263l-4.19-1.251a1.389,1.389,0,0,0-1.652,1.862l1.585,4.188a1.442,1.442,0,0,1-.142,1.3l-2.45,3.719a1.406,1.406,0,0,0,1.208,2.194l4.355-.259a1.35,1.35,0,0,1,1.157.541Zm0,0"
                                      transform="translate(-55.44 -253.566)" fill="#ffd02f"/>
                                <path id="Path_12118" data-name="Path 12118"
                                      d="M157.281,434.705a1.681,1.681,0,0,1-1.681-1.681,38.393,38.393,0,0,0-4.516-18.592,1.682,1.682,0,0,1,2.954-1.609,41.731,41.731,0,0,1,4.924,20.2,1.681,1.681,0,0,1-1.681,1.681Zm0,0"
                                      transform="translate(-116.172 -318.24)" fill="#fa0"/>
                                <path id="Path_12119" data-name="Path 12119"
                                      d="M238.278,40.113a4.514,4.514,0,1,0-4.512,4.649A4.582,4.582,0,0,0,238.278,40.113Zm0,0"
                                      transform="translate(-176.719 -27.398)" fill="#ffd02f"/>
                                <path id="Path_12120" data-name="Path 12120"
                                      d="M342.433,431.027a4.514,4.514,0,1,0-4.511,4.648A4.581,4.581,0,0,0,342.433,431.027Zm0,0"
                                      transform="translate(-257.183 -329.391)" fill="#5c73bc"/>
                                <path id="Path_12121" data-name="Path 12121"
                                      d="M19.55,438.2a3.62,3.62,0,1,0-3.619,3.728A3.674,3.674,0,0,0,19.55,438.2Zm0,0"
                                      transform="translate(-9.125 -335.639)" fill="#62d38f"/>
                                <path id="Path_12122" data-name="Path 12122"
                                      d="M63.593,275.693a3.62,3.62,0,1,0-3.619,3.728A3.674,3.674,0,0,0,63.593,275.693Zm0,0"
                                      transform="translate(-43.15 -210.101)" fill="#5c73bc"/>
                                <g id="Group_7337" data-name="Group 7337" transform="translate(30.541)">
                                    <path id="Path_12123" data-name="Path 12123"
                                          d="M186.261,3.728a3.62,3.62,0,1,0-7.237,0,3.62,3.62,0,1,0,7.237,0Zm0,0"
                                          transform="translate(-168.455)" fill="#ff4e61"/>
                                    <path id="Path_12124" data-name="Path 12124"
                                          d="M340.645,140.221a3.621,3.621,0,1,0-3.619,3.727A3.675,3.675,0,0,0,340.645,140.221Zm0,0"
                                          transform="translate(-287.721 -105.444)" fill="#ff4e61"/>
                                    <path id="Path_12125" data-name="Path 12125"
                                          d="M134.246,14.011a1.682,1.682,0,0,1-1.207-2.852L135.13,9a1.681,1.681,0,1,1,2.412,2.342l-2.09,2.154A1.678,1.678,0,0,1,134.246,14.011Zm0,0"
                                          transform="translate(-132.565 -6.562)" fill="#ff4e61"/>
                                </g>
                            </g>
                        </svg>
                        <p class="title">
                            {{ lang('verification_done_title') }}
                        </p>
                        <p class="dec">{{ lang('text_successful_install') }}</p>

                        <a class="btn btn-primary next-arrow-btn" href="{{ link('extension/expandship/') }}">
                            {{ lang('heading_title_settings') }}
                            <i class="fa fa-angle-right" aria-hidden="true"></i>
                        </a>
                    </div>

                    <div class="item-verfication item-verfication-error">
                        <svg style="margin: auto;" xmlns="http://www.w3.org/2000/svg" width="49.454" height="44.37"
                             viewBox="0 0 49.454 44.37">
                            <g id="alert" transform="translate(0 0)">
                                <g id="Group_7329" data-name="Group 7329" transform="translate(0 0)">
                                    <g id="Group_7328" data-name="Group 7328" transform="translate(0 0)">
                                        <path id="Path_12091" data-name="Path 12091"
                                              d="M48.665,61.963l-18.9-32.74a5.815,5.815,0,0,0-10.072,0L.788,61.962a5.815,5.815,0,0,0,5.036,8.723h37.8a5.815,5.815,0,0,0,5.036-8.723Zm-2.509,4.367a2.888,2.888,0,0,1-2.527,1.459H5.824A2.918,2.918,0,0,1,3.3,63.411l18.9-32.74a2.918,2.918,0,0,1,5.054,0l18.9,32.74A2.888,2.888,0,0,1,46.156,66.329Z"
                                              transform="translate(0 -26.315)" fill="#c40000"/>
                                    </g>
                                </g>
                                <g id="Group_7331" data-name="Group 7331" transform="translate(23.278 14.459)">
                                    <g id="Group_7330" data-name="Group 7330" transform="translate(0 0)">
                                        <rect id="Rectangle_5324" data-name="Rectangle 5324" width="2.897"
                                              height="14.487" fill="#c40000"/>
                                    </g>
                                </g>
                                <g id="Group_7333" data-name="Group 7333" transform="translate(22.795 31.843)">
                                    <g id="Group_7332" data-name="Group 7332">
                                        <path id="Path_12092" data-name="Path 12092"
                                              d="M237.934,355.99a1.932,1.932,0,1,0,1.932,1.932A1.934,1.934,0,0,0,237.934,355.99Z"
                                              transform="translate(-236.002 -355.99)" fill="#c40000"/>
                                    </g>
                                </g>
                            </g>
                        </svg>
                        <p class="title">
                            {{ lang('verification_error_title') }}
                        </p>
                        <p class="dec">
                            {{ lang('verification_error_dec') }}
                        </p>
                    </div>
                </div>

                <div class="expandsteps-arrows-holder">
                    <a class="btn btn-default expandsteps-btnPrevious"><i class="fa fa-angle-left"
                                                                          aria-hidden="true"></i> {{ lang('entry_back') }}
                    </a>
                    <a class="btn btn-primary expandsteps-btnNext  hidden-btn-area">{{ lang('entry_next') }} <i
                                class="fa fa-angle-right" aria-hidden="true"></i></a>
                </div>
            </div>
        </div>
    </div>


    <!-- modal Verify Your phone  -->
    <div class="modal fade small-size-modal" id="verify-phone">
        <div class="modal-dialog">
            <div class="modal-content ">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" style="font-size: 30px;">×</button>
                    <h4 class="modal-title" style="height: 28px;">
                    </h4>
                </div>
                <div class="modal-body">

                    <p class="bold text-center expandItem-login-title">{{ lang('text_verify_phone') }} </p>


                    <form id='code-form-phone'>
                        <div class="digit-group verify-input-holder verify-border-bottom" style="direction: ltr;">
                            <input type="text" class="passInput" name="phone_pass[]" maxlength="1" autocomplete="off" required
                                   pattern="\d{1}" autofocus>
                            <input type="text" class="passInput" name="phone_pass[]" maxlength="1" autocomplete="off" required
                                   pattern="\d{1}">
                            <input type="text" class="passInput" name="phone_pass[]" maxlength="1" autocomplete="off" required
                                   pattern="\d{1}">
                            <input type="text" class="passInput" name="phone_pass[]" maxlength="1" autocomplete="off" required
                                   pattern="\d{1}">
                        </div>
                        <span class="help-block" style='text-align:center;color:red'></span>
                        <p class=" text-center mt-20 mb-20" id='text-mail' style="color: #8592ad;">{{ lang('text_enter_verification_code') }} <br> <span id="phoneTarget"></span></p>
                        <input type="hidden"  name="email"/>
                        <div class="text-center counter-holder">
                            <p class="resend-verify-code"><a>{{ lang('entry_resend_code') }}</a></p>
                            <p class="counter-min" style="display: none;"> 00:<span id="counter">60</span></p>
                        </div>
                        <a class="btn btn-primary btn-expandItem-login hiddenSubmit" id='verifyPhoneBtn'
                           style="padding: 12px;">{{ lang('entry_confirm') }}
                            <button type="button" class="btn btn-primary btn-sm custom-alert-onBtn alert-loading-verify confirm-mobile-loading"
                                    style="display: none;"><i class="fas fa-spinner fa-spin"></i></button>
                        </a>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- modal Verify Your email  -->
    <div class="modal fade small-size-modal" id="verify-email">
        <div class="modal-dialog">
            <div class="modal-content ">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" style="font-size: 30px;">×</button>
                    <h4 class="modal-title" style="height: 28px;">
                    </h4>
                </div>
                <div class="modal-body">

                    <p class="bold text-center expandItem-login-title">{{ lang('text_verify_email') }} </p>


                    <form id='code-form-email'>
                        <div class="digit-group verify-input-holder verify-border-bottom" style="direction: ltr;">
                            <input type="text" class="passInput" name="email_pass[]" maxlength="1" autocomplete="off" required
                                   pattern="\d{1}" autofocus>
                            <input type="text" class="passInput" name="email_pass[]" maxlength="1" autocomplete="off" required
                                   pattern="\d{1}">
                            <input type="text" class="passInput" name="email_pass[]" maxlength="1" autocomplete="off" required
                                   pattern="\d{1}">
                            <input type="text" class="passInput" name="email_pass[]" maxlength="1" autocomplete="off" required
                                   pattern="\d{1}">
                        </div>
                        <span class="help-block" style='text-align:center;color:red'></span>
                        <p class=" text-center mt-20 mb-20" id='text-mail' style="color: #8592ad;">{{ lang('text_enter_verification_code') }}<br> <span id="emailTarget"></span></p>

                        <div class="text-center counter-holder">
                            <p class="resend-verify-code"><a>{{ lang('entry_resend_code') }}</a></p>
                            <p class="counter-min" style="display: none;"> 00:<span id="counter">60</span></p>
                        </div>
                        <a class="btn btn-primary btn-expandItem-login hiddenSubmit" id='verifyEmailBtn'
                           style="padding: 12px;">{{ lang('entry_confirm') }}
                            <button type="button" class="btn btn-primary btn-sm custom-alert-onBtn alert-loading-verify confirm-email-loading"
                                    style="display: none;"><i class="fas fa-spinner fa-spin"></i></button>
                        </a>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <!-- end expandShip activation tabs -->

    {# <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/8.4.7/js/intlTelInput.js"></script> #}
    <script>
        {# var payment_code = '{{code}}'; #}
        {# var deactivateURL = '{{link('extension/expandpay/expandpay_uninstall')}}'; #}
        {# $(document).on('click', '.md-trigger', function () { #}
        {# $('#modal-deactivate-ps').find('#deactivate-ps').attr('psid', $(this).attr('psid')); #}
        {# $('#modal-deactivate-ps').find('#ps-title').html($(this).attr('ps-title')); #}
        {# }); #}
        {# $("#deactivate-ps").click(function () { #}
        {# $('#deactivate-ps').parent().find('.server-loading').show(); #}
        {# window.location.replace(deactivateURL); #}
        {# console.log(deactivateURL + $("#deactivate-ps").attr('psid')) #}
        {# }); #}

        {# $(document).ready(function() { #}
        {# $(".acc-btn.no-have").click(function() { #}
        {# if('undefined' !== typeof is_my_fatoorah_approved && is_my_fatoorah_approved == false && payment_code == 'my_fatoorah') #}
        {# $('#MyFatoorahRegisterModal').modal('toggle'); #}
        {# else #}
        {# $('.ship-create-cover').slideDown() #}
        {# }) #}

        $('select').select2();
        {# $('.touchspinney').TouchSpin({ #}
        {# 'postfix': '{{ current_currency_code }}', #}
        {# 'decimals': 2, #}
        {# 'min': 0, #}
        {# 'max': Infinity #}
        {# }); #}
        {# $('.touchy').TouchSpin({ #}
        {# min: 1, #}
        {# max: 99, #}
        {# }); #}
        {# }); #}

        {# function changeStatus(checkbox) #}
        {# { #}
        {# var self = $(checkbox); #}
        {# var switch_status = self.siblings('.switchery-status'); #}

        {# if ( self.is(':checked') ) #}
        {# { #}
        {# switch_status.html("{{ lang('text_enabled') }}"); #}
        {# } #}
        {# else #}
        {# { #}
        {# switch_status.html("{{ lang('text_disabled') }}"); #}
        {# } #}
        {# } #}
    </script>

    <!-- Verify Your phone/ email  -->
    <script>
        $(document).ready(function () {

            ////// hide submit if the required fields are empty.
            function emptyInputVerify() {
                var emptyEmail = false;
                $('#code-form-email .verify-input-holder input').each(function () {
                    if ($(this).val().length ==0) {
                        emptyEmail = true;
                    }
                });
                if (emptyEmail) {
                    $('#verifyEmailBtn').addClass('hiddenSubmit');
                } else {
                    // $('#verifyEmailBtn').trigger('click')
                    $('#verifyEmailBtn').removeClass('hiddenSubmit');
                }

                var emptyPhone = false;
                $('#code-form-phone .verify-input-holder input').each(function () {
                    if ($(this).val().length == 0) {
                        emptyPhone = true;
                    }
                });
                if (emptyPhone) {
                    $('#verifyPhoneBtn').addClass('hiddenSubmit');
                } else {
                    // $('#verifyPhoneBtn').trigger('click')
                    $('#verifyPhoneBtn').removeClass('hiddenSubmit');
                }
            };
            $('#code-form-email .verify-input-holder input, #code-form-phone .verify-input-holder input').keyup(function () {
                emptyInputVerify();
            });
            emptyInputVerify();

            // verify input

            const $inp = $(".passInput");

            $inp.on({
                paste(ev) { // Handle Pasting

                    const clip = ev.originalEvent.clipboardData.getData('text').trim();
                    // Allow numbers only
                    if (!/\d{4}/.test(clip)) return ev.preventDefault(); // Invalid. Exit here
                    // Split string to Array or characters
                    const s = [...clip];
                    // Populate inputs. Focus last input.
                    $inp.val(i => s[i]).eq(3).focus();
                },
                input(ev) { // Handle typing

                    const i = $inp.index(this);
                    if (this.value) $inp.eq(i + 1).focus();
                },
                keydown(ev) { // Handle Deleting

                    const i = $inp.index(this);
                    if (!this.value && ev.key === "Backspace" && i) $inp.eq(i - 1).focus();
                }
            });

            /// verify counter
            function counterMin() {
                $(".resend-verify-code").addClass("hidden-resend");
                var count = 60;
                $("#counter").html(count);

                var timer = setInterval(function () {
                    $("#counter").html(--count);
                    if (count == 0) {
                        clearInterval(timer);
                        $(".resend-verify-code").removeClass("hidden-resend");
                        $('.counter-holder .counter-min').hide();
                    }
                }, 1000);
            }

            $(document).on('click','#sendPhoneCode', function (){
                let mobile = $('#mobile').val();
                if(!mobile) {
                    swal("{{ lang('text_entry_enter_phone_number') }}", "", "error");
                    return ;
                }
                sendVerifyCode('sms', mobile)
            });

            $(document).on('click','#sendEmailCode', function (){
                let email = $('#email').val();
                if(!email) {
                    swal("{{ lang('text_entry_enter_email') }}", "", "error");
                    return ;
                }
                sendVerifyCode('email', email)
            });
            var currentTarget, currentSource;

            function sendVerifyCode(source, target) {
                if(source == 'email'){
                    $("input[name='email']").parent().removeClass('has-error')
                    $("input[name='email']").next().empty();
                    $("#emailTarget").html(target);
                }else{
                    $("input[name='mobile']").parent().removeClass('has-error')
                    $("input[name='mobile']").next().empty();
                    $("#phoneTarget").html(target);
                }
                $.ajax({
                    url: "{{ send_code_url }}",
                    data: {source: source, target: target},
                    dataType:'json',
                    method: 'POST',
                    success: function (response) {
                        if (response.success == 1) {

                            //show modal
                            if(source == 'email'){

                                $('#verify-email').modal('show');
                                localStorage.setItem("emailCodeSend", 1);
                                setTimeout(function () {
                                    localStorage.removeItem("emailCodeSend", 1);
                                }, 60 * 1000)
                                counterMin();
                            }
                            else{
                                $('#verify-phone').modal('show');
                                localStorage.setItem("mobileCodeSend", 1);
                                setTimeout(function () {
                                    localStorage.removeItem("mobileCodeSend", 1);
                                }, 60 * 1000)
                                counterMin();
                            }

                            currentTarget = target;
                            currentSource = source;
                            $('.alert-loading.confirm-'+source+'-loading ').hide();
                        } else {
                            $.each(response.errors, function (key, value) {
                                swal(value[0], "", "error");
                                return;
                            });

                            $('.alert-loading.confirm-'+source+'-loading ').hide();
                        }
                    }
                });

            }

            $('.resend-verify-code a').click(function () {
                counterMin();
                sendVerifyCode(currentSource, currentTarget);
                $('.counter-holder .counter-min').show();
            });

            // Check code
            $(document).on('click','#verifyEmailBtn',function () {
                let code = $("input[name='email_pass[]']").map(function(){return $(this).val();}).get()
                checkCode('email', code.join(''))
            });

            $(document).on('click','#verifyPhoneBtn',function () {
                let code = $("input[name='phone_pass[]']").map(function(){return $(this).val();}).get()
                checkCode('sms', code.join(''))
            });

            function checkCode(source, code){
                $('.alert-loading-verify').show();
                $('#code-form-email .help-block, #code-form-phone .help-block').empty()
                $.ajax({
                    url: "{{ check_code_url }}",
                    data: {target:currentTarget, code:code},
                    dataType:'json',
                    method: 'POST',
                    success: function (response) {
                        if (response.success == 1) {
                            if(source=='email'){
                                $('#verify-email').modal('hide');
                                $('#sendEmailCode').remove();
                                emailVerified = true;
                            }else{
                                $('#verify-phone').modal('hide');
                                $('#sendPhoneCode').remove();
                                mobileVerified = true;
                            }
                            emptyInputCreate(emailVerified && mobileVerified);
                        } else {

                            $.each(response.errors, function (key, value) {
                                $(".verify-input-holder").parent().find('.help-block').append(value[0])
                            });

                        }

                        $('.alert-loading-verify').hide();

                    }
                });
            }


            var emailVerified = false, mobileVerified = false;
            {% if merchant.status == 'pending' %}
            //set all input to be read only if user status is pending
            // $('#createAccountForm input, #createAccountForm select').attr('readonly', 'readonly').attr('disabled', true);
            {% endif %}

            // $(".international-telephone").intlTelInput({
            // utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/8.4.6/js/utils.js",
            // initialCountry: "auto",
            // preferredCountries: [],
            // geoIpLookup: function(callback) {
            // callback("EG");
            // },
            //
            // });

            /// next and prev btn
            //NextStep
            function nextStep() {
                $('.nav-tabs > .active').next('li').find('a').trigger('click');
                var getActiveStep = $(".start-side-holder li.active a").attr("href");
                $(".end-side-holder .tab-pane").removeClass('active');
                $(getActiveStep).addClass('active');
            };

            //PrevStep
            function PrevStep() {
                $('.nav-tabs > .active').prev('li').find('a').trigger('click');
                var getActiveStep = $(".start-side-holder li.active a").attr("href");
                $(".end-side-holder .tab-pane").removeClass('active');
                $(getActiveStep).addClass('active');
            };


            $('.expandsteps-btnNext').click(function () {
                nextStep();
            });

            $('.expandsteps-btnPrevious').click(function () {
                PrevStep();
            });

            /// Active country
            // dataCountry();
            $('.country-item-holder .country-item').click(function (e) {
                $('.country-item-holder .country-item').removeClass('active').find('.country-input').prop('checked', false);
                $(this).addClass('active').find('.country-input').prop('checked', true);
                // localStorage.setItem("activeDivCountry", $(this).index('.country-item-holder .country-item'));
                // appendToForm();
                // dataCountry();
            });

            /// start to select form between fawaterk and myFatoorah
            // function dataCountry(){
            //     var selectedval=$(".country-item-holder .country-item.active").attr("data-country");
            //     $(".item-country-changed").hide().find('input').prop('disabled', true);
            //     var classvar='.item-country-changed.'+selectedval;
            //     $(classvar).show().find('input').prop('disabled', false);
            // };
            /// end to select form between fawaterk and myFatoorah

            // var activeIndexCountry = localStorage.getItem("activeDivCountry");
            // if (activeIndexCountry) {
            //     $('.country-item-holder .country-item').removeClass('active').eq(activeIndexCountry).addClass('active')
            // }
            $('.country-item-holder .country-item.active').trigger("click");


            /// Active BusinessType

            $('.BusinessType-item-holder .BusinessType-item').click(function () {
                $('.BusinessType-item-holder .BusinessType-item').removeClass('active').find('.BusinessType-input').prop('checked', false);
                $(this).addClass('active').find('.BusinessType-input').prop('checked', true);
                // localStorage.setItem("activeDivBusiness", $(this).index('.BusinessType-item-holder .BusinessType-item'));
                // appendToForm();
            });
            // var activeIndexBusiness = localStorage.getItem("activeDivBusiness");
            // if (activeIndexBusiness) {
            //     $('.BusinessType-item-holder .BusinessType-item').removeClass('active').eq(activeIndexBusiness).addClass('active')
            // }


            // get mail from welcome screen
            var login_mail = localStorage.getItem("login_mail");
            $("input[name='email']").val(login_mail);
            /// Fields Append To Form

            // function appendToForm(){
            //     var getActiveCountry=$(".country-item-holder .country-item.active").attr("country-name");
            //     var getActiveBusiness=$(".BusinessType-item-holder .BusinessType-item.active").attr("acc-type");
            //
            //     if ($(".form-data-hide .form-country."+getActiveCountry).hasClass(getActiveBusiness)) {
            //         var selectedFields='.form-data-hide .form-country.'+getActiveCountry+'.'+getActiveBusiness;
            //         $(".form-data-show").html($(selectedFields).html());
            //     }else {
            //         var selectedFields='.form-data-hide .form-country.'+getActiveCountry;
            //         $(".form-data-show").html($(selectedFields).html());
            //     }
            // };
            // appendToForm();

            ////// hide submit if the required fields are empty ( Create Account  ).
            function emptyInputCreate(isVerified = true) {
                var empty = false;
                $('#CreateAccount .form-group .required-field-toSubmit').each(function () {
                    if ($(this).val() == '') {
                        empty = true;
                    }
                });
                if (!empty && isVerified) {
                    $('#createAccountSubmitButton').removeClass('hiddenSubmit');
                } else {
                    $('#createAccountSubmitButton').addClass('hiddenSubmit');
                }
            };
            $('#CreateAccount .form-group .required-field-toSubmit').keyup(function () {
                emptyInputCreate(emailVerified && mobileVerified);
            });

            $('#CreateAccount .form-group .required-field-toSubmit').change(function () {
                emptyInputCreate(emailVerified && mobileVerified);
            });

            ////// hide submit if the terms are empty
            function emptyterms() {
                var empty = true;
                $('.terms-checkbox').each(function () {
                    if ($(this).is(':checked')) {
                        empty = false;
                    }
                });
                if (empty) {
                    $('#termsSubmitButton').addClass('hiddenSubmit');
                } else {
                    $('#termsSubmitButton').removeClass('hiddenSubmit');
                }
            };

            $('.terms-checkbox').change(function () {
                emptyterms();
            });
            emptyterms();

            ////// hide submit if the required fields are empty (upload  Documents ).

            function emptyInputDoc() {
                $('#uploadForm  .form-group input:not(:disabled)').change(function () {

                    var empty = false;
                    $('#uploadForm  .form-group input:not(:disabled)').each(function () {
                        if ($(this).val() == '') {
                            empty = true;
                        }
                    });

                    if (empty) {
                        $('#uploadSubmitButton').addClass('hiddenSubmit');
                    } else {
                        $('#uploadSubmitButton').removeClass('hiddenSubmit');
                    }
                });
            };

            emptyInputCreate();


            // set country in contact info in last step
            $('#countryNextButton').click(function () {
                //check if user choose country
                let country_id = $('.country-item.active').children('input').val();
                if (!country_id) {
                    fireAlert("{{ lang('text_entry_choose_country') }}");
                    return;
                }

                $('#countryId').val(country_id);
                let countryName = $('.country-item.active').children('.country-name').html();
                $('#businessCountry').val(countryName);
                //fire  net button loader
                // $('.alert-loading.countryloader').show();
                // $(this).css('pointer-events','none');
                nextStep();

                //move to next step
                // $('.alert-loading.countryloader').hide();
                // $('.alert-done.countryloader').show();
                // $('#countryNextButton').css('pointer-events','none');
                // setTimeout(function(){
                //     $('#countryNextButton').removeAttr('style');
                //     $('.alert-done.countryloader').hide();
                //     $('.nav-tabs > .active').next('li').find('a').trigger('click')
                // },200)

            })

            //set business type to hidden input
            $('#busnissNextButton').click(function () {

                let business_type = $(".BusinessType-item-holder .BusinessType-item.active").attr("acc-type");
                if (business_type != 'individual' && business_type != 'company') {
                    fireAlert("{{ lang('text_entry_choose_business_type') }}");
                    return;
                }
                // nextStep()

                $('#businessTypeInput').val(business_type);
                localStorage.setItem("step2", 1);
                localStorage.removeItem("step1");
            });
            $('.BusinessType-item-holder .BusinessType-item.active').trigger("click");


            //update state in change of country
            $('#pickCountry').on('change', function () {
                let country_id = $(this).val();

                // empty cities and states
                $('#pickState').empty()
                $('#pickState').append('<option selected value=""  hidden>{{ lang("entry_please_select") }}</option>');
                $('#pickCity').empty()
                $('#pickCity').append('<option selected value=""  hidden>{{ lang("entry_please_select") }}</option>');

                $.ajax({
                    url: "{{ link('extension/expandship/getStatesByCountry') }}",
                    data: {country_id: country_id},
                    dataType: 'JSON',
                    method: 'POST',
                    success: function (response) {
                        console.log(response);
                        if (response.success == 1) {

                            //update states with new data
                            $.each(response.states, function (index, value) {
                                $('#pickState').append('<option value="' + value.id + '">' + value.name + '</option>');
                            });
                        }
                    }
                });
            });


            //update cities  in change of states
            $('#pickState').on('change', function () {
                let state_id = $(this).val();

                // empty cities
                $('#pickCity').empty()
                $.ajax({
                    url: "{{ link('extension/expandship/getCitiesByState') }}",
                    data: {state_id: state_id},
                    dataType: 'JSON',
                    method: 'POST',
                    success: function (response) {
                        console.log(response);
                        if (response.success == 1) {

                            $('#pickCity').append('<option selected value=""  hidden>{{ lang("entry_please_select") }}</option>');
                            //update cities with new data
                            $.each(response.cities, function (index, value) {
                                $('#pickCity').append('<option value="' + value.id + '">' + value.name + '</option>');
                            });
                        }
                    }
                });
            });


            /// register the merchant
            $('#createAccountSubmitButton').click(function (e) {
                e.preventDefault();

                //check if postal_code length > 5
                if ($('#postalCode').val().length > 5) {
                    fireAlert("{{ lang('alert_check_postal_code') }}");
                    return;
                }
                // $('.alert-loading.createloader').show();
                $("input").parent().removeClass('has-error');
                $("input").closest('.form-group').removeClass('has-error');
                // $("input").next().empty();
                $("input").closest('.form-group').find('.help-block').empty();

                let formData = new FormData($("#createAccountForm")[0]);
                $.ajax({
                    url: "{{ link('extension/expandship/register') }}",
                    data: formData,
                    dataType: 'JSON',
                    method: 'POST',
                    processData: false,
                    contentType: false,
                    success: function (response) {
                        console.log(response);
                        // $('.alert-loading.createloader').hide();
                        if (response.success == 1) {
                            emptyInputDoc();
                            nextStep();
                            $('#createAccountForm .tab-pane').addClass('form-readonly');
                            // localStorage.removeItem("step1");
                            // localStorage.removeItem("step2");
                        } else {
                            $.each(response.errors, function (key, value) {
                                //assign shop name to business name
                                if(key == 'shop_name')
                                    key = 'business_name';
                                else if(key == 'phone')
                                    key='mobile';

                                //display errors for inputs and select
                                $("input[name='" + key + "']").closest('.form-group').addClass('has-error');
                                $("input[name='" + key + "']").closest('.form-group').find('.help-block').append(value[0])

                                $("#" + key).closest('.form-group').addClass('has-error');
                                $("#" + key).closest('.form-group').find('.help-block').empty().append(value[0])
                            });
                            $('html, body').animate({
                                scrollTop: $("#CreateAccount").offset().top
                            }, 500);
                        }
                    }
                });

            });


            $('#uploadSubmitButton').click(function (event) {
                $('.alert-loading.createloader').show();
                var $form = $('#uploadForm');
                var formData = new FormData($("#uploadForm")[0]);
                var $action = $form.attr('action');
                var $data = $form.serialize();
                $('.modal-errors').html('');
                $("input").closest('.form-group').removeClass('has-error');
                $("input").closest('.form-group').find('.help-block').empty();

                // $.ajax({
                //     url: $action,
                //     data: formData,
                //     dataType: 'JSON',
                //     method: 'POST',
                //     processData: false,
                //     contentType: false,
                //     success: function (response) {
                //         $('.alert-loading.createloader').hide();
                //         if (response.success == 1) {
                //             $('#MyFatoorahRegisterModal').modal('toggle');
                //             nextStep();
                //             $('#Documents').addClass('form-readonly');
                //         } else {
                //
                //             for(err in response.fails){
                //                 $("input[name='"+err+"']").closest('.form-group').addClass('has-error');
                //                 $("input[name='"+err+"']").closest('.form-group').find('.help-block').append(response.fails[err])
                //             }
                //
                //         }
                //     }
                // });
            });
            // open tabs depend on data status
            var file_status = '{{ files_uploaded }}';
            switch (file_status) {
                case '0':
                    $('#file_upload_step').addClass('active')
                    $('#Documents').addClass('active')
                    break;
                case '1':
                    $('.expandsteps-steps-holder > .verfication-tab').addClass('active')
                    $('#Verfication').addClass('active')
                    $('#Documents.tab-pane').addClass('form-readonly');
                    break;
                default:
                    $('#brief_step').addClass('active')
                    $('#brief').addClass('active')
                    break;
            }
            var form_status = '{{ form_submitted }}';
            if (form_status == 1) {
                $('#createAccountForm .tab-pane').addClass('form-readonly');
            }
            // // check if step 1 is submitted
            // var step1 = localStorage.getItem("step1");
            // if(step1 == '1'){
            //     getBankList({country:localStorage.getItem("country")})

            //     $('#first_step').removeClass('active')
            //     $('#first_step').next().addClass('active')
            //     $('#Country').removeClass('active')
            //     $('#BusinessType').addClass('active')
            // }
            // // check if step 2 is submitted
            // var step2 = localStorage.getItem("step2");
            // if(step2 == '1'){
            //     getBankList({country:localStorage.getItem("country")})

            //     $('#first_step').removeClass('active')
            //     $('#second_step').removeClass('active')
            //     $('#second_step').next().addClass('active')
            //     $('#Country').removeClass('active')
            //     $('#BusinessType').removeClass('active')
            //     $('#CreateAccount').addClass('active')

            // }

            // display UI depent on merchant activation status
            var merchantStatus = '{{ merchantStatus }}';
            switch (merchantStatus) {
                case 'active':
                    $('.item-verfication-pending').hide();
                    $('.item-verfication-done').show();
                    $('.verfication-tab').addClass('verfication-done')
                    break;
                case 'deactive':
                    $('.item-verfication-pending').hide();
                    $('.item-verfication-error').show();
                    $('.verfication-tab').addClass('verfication-error')
                    break;
            }

            $('.expandsteps-arrows-holder .btn').click(function () {
                var stepActive = $(".expandsteps-steps-item.active a").attr("href");
                $(".end-side-holder .tab-pane").removeClass('active');
                $(stepActive).addClass('active');
            });


            function fireAlert(message) {
                swal(message, "", "error");
            }

        });

    </script>
{% endblock content %}
